{"version":3,"sources":["components/Table/Table.jsx","assets/img/PNG/Acreto_Icon 16.png","assets/img/PNG/Acreto_Icon 17.png","views/Modals/CreateNewService.jsx","components/AdvancedContainer/AdvancedContainer.jsx","views/Modals/NewPolicySurvey.jsx","views/Security/components/PolicyTableItem/PolicyTableItem.js","views/Security/components/SearchBar/SearchBar.js","store/policies/actions.js","views/Security/Security.jsx","views/Security/scenario-actions.js"],"names":["classnames__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","classnames__WEBPACK_IMPORTED_MODULE_0___default","n","react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_1___default","react_responsive__WEBPACK_IMPORTED_MODULE_2__","react_responsive__WEBPACK_IMPORTED_MODULE_2___default","HeaderItem","_ref3","conf","divider","a","createElement","className","cx","field","text-center","center","name","__webpack_exports__","Content","_ref2","root","headerComponent","renderItems","concat","minWidth","maxWidth","matches","Container","_ref","children","Header","_ref4","items","map","index","key","module","exports","CreateNewService","state","description","protocol","port","changeField","value","_this","setState","Object","defineProperty","onNameChange","val","onDescriptionChange","onPortChange","onProtocolChange","onFinish","validate","props","react_default","Fragment","Form","Group","full","label","Text","this","onChange","placeholder","multiline","rows","Button","bsStyle","onClick","React","Component","Footer","AdvancedContainer","expanded","handleClick","PureComponent","NewPolicySurvey","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onNotesChange","onExpiryChange","onExpiryTypeChange","onActionTypeChange","onThreatManagementChange","onPotentialItemChange","capitalize","onNewItemManual","_this$setState2","toConsumableArray","onRemoveItem","filter","s","i","onNewService","services","options","find","o","id","potentialServices","expiryType","EXPIRATION_TYPE","HARD","sources","destinations","applications","threatManagement","actionType","ACTION_TYPES","ALLOW","_this2","Card","header","required","extraClass","potentialSources","AddButton","Select","potentialApplications","potentialDestinations","Toggle","selected","selectedClass","ACTION_TYPES_OPTIONS","type","checked","ev","target","AdvancedContainer_AdvancedContainer","notes","expiry","EXPIRATION_TYPE_OPTIONS","urlFilter","onAssetChange","MOCK_OPTIONS","fileType","patternFilter","commons","edit","ConnectedServiceField","connect","ecosystems","dictionaries","TableItemContainer","_ref$active","active","Field","_ref2$extraClass","ResponsiveField","title","_ref3$extraClass","BasicObjectInfo","data","Translator","expirationType","src","INFO","alt","moment","date","format","SmallTextField","_ref5","text","ServiceField","service","onServiceChange","newService","onCreateNew","prevProps","length","lastOption","_this$props","ServiceIcon","tcp","ApplicationField","_ref8","application","ApplicationIcon","PolicyTableItem","showAll","_this$props2","_this$props2$responsi","responsive","onDetails","_this$props2$index","WrapperComponent","source","PolicyTableItem_ConnectedServiceField","destination","SearchBar","handleChange","e","Dropdown","Menu","rate","MenuItem","Glyphicon","glyph","fetchingPoliciesSuccess","results","ecosystem","FETCHING_POLICIES_SUCCESS","payload","creationPolicySuccess","result","CREATION_POLICY_SUCCESS","Modal","setAppElement","Security","createModalOpened","detailModalOpened","editModalOpened","serviceModalOpened","detailsOf","onEditClick","openEditModal","openModal","openDetailsModal","item","closeDetailsModal","openServiceCreateModal","closeServiceCreateModal","keepDetailsOpened","closeEditModal","closeCreateModal","renderDetailModal","renderEditModal","renderCreationModal","Modals_NewPolicySurvey","newPolicy","onAdd","entity","createPolicy","onEdit","updatePolicy","onCreateService","createService","renderPolicies","PolicyTableItem_PolicyTableItem","fetchPolicies","SearchBar_SearchBar","Table","POLICY_TABLE_FIELDS","isLoading","Loader","WedgeModal","isOpen","onClose","size","additionalAction","icon","callback","Modals_CreateNewService","defaultProps","loadingSelector","createLoadingSelector","errorSelector","createErrorMessageSelector","policiesSelector","currentEcosystem","policies","uuid","error","dispatch","asyncToGenerator","regenerator_default","mark","_callee","getState","objects","wrap","_context","prev","next","FETCHING_POLICIES_REQUESTED","REST","customer","sent","t0","err","FETCHING_POLICIES_FAILURE","message","stop","_x","_x2","apply","arguments","policy","_callee2","createdPolicy","_context2","currentecosystem","CREATION_POLICY_REQUESTED","CREATION_POLICY_FAILURE","_x3","_x4","_callee3","_context3","_callee4","createdService","_context4","appendNewService","_x5","_x6"],"mappings":"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","file":"static/js/7.d0c4d4ed.chunk.js","sourcesContent":["import cx from 'classnames'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport MediaQuery from 'react-responsive'\nimport './table.scss'\n\nfunction Container({ children, root }) {\n\treturn (\n\t\t<div className={`table-container ${root}__table-container`}>{children}</div>\n\t)\n}\n\nfunction Content({ root, headerComponent, renderItems }) {\n\treturn (\n\t\t<div className={`table-content ${root}__table-content`}>\n\t\t\t<MediaQuery minWidth={992}>{headerComponent}</MediaQuery>\n\t\t\t<MediaQuery maxWidth={991}>{matches => renderItems(matches)}</MediaQuery>\n\t\t</div>\n\t)\n}\n\nfunction HeaderItem({ conf }) {\n\tif (conf.divider) {\n\t\treturn <div className={`empty`} />\n\t}\n\n\treturn (\n\t\t<div className={cx({ field: true, 'text-center': conf.center })}>\n\t\t\t{conf.name}\n\t\t</div>\n\t)\n}\n\nfunction Header({ items }) {\n\treturn (\n\t\t<div className={`table-header header`}>\n\t\t\t{items.map((field, index) => (\n\t\t\t\t<HeaderItem conf={field} key={`table-header-field-${index}`} />\n\t\t\t))}\n\t\t</div>\n\t)\n}\n\nContainer.propTypes = {\n\tchildren: PropTypes.element,\n\troot: PropTypes.string\n}\n\nContent.propTypes = {\n\troot: PropTypes.string,\n\theaderComponent: PropTypes.element.isRequired,\n\trenderItems: PropTypes.func.isRequired\n}\n\nHeader.propTypes = {\n\titems: PropTypes.array.isRequired\n}\n\nHeaderItem.propTypes = {\n\tconf: PropTypes.object.isRequired\n}\n\nexport default {\n\tContent,\n\tContainer,\n\tHeader\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAN1JREFUeNpi/P//PwO1ARMDDcAIN5SFGEV/NjoKAKkEIHYA4gdAfIDFf/8GXOoZCcU+0EADILUBatgCIFYA4nogvgiyBGj4B3K8PwHqMpArLyAZeIAsl0K9/R5oICOUPwEcZv77CyiJKJDXD6Lx0S0lOaIM0PggFx4AGgYKCn2Yb4k2FKgRFNsN0BhngHr7AlBcAWqZA7IcQUOhBk6Axu4FpFQAAh+ghoFcHUCK9xPQDIRZAjJQABrzcHly0imGqwkBQknKgJCryIl9UC4yABr4gJS8zzhaSFMdAAQYAD1zW35rCdoxAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHlJREFUeNpi/P//PwO1ARMDDcAIN5QFXSD28GsFIJVApP4Li21FNxDjUpCBDkQYCLK8gCiXQsEBoAsa8JkI9BHI4oZhFlFAYADE/kDv1ROh/yWxhl6AxuoIDVMQcAB6r4GIdEq0oQuIdNADIN6ATYJxtDwdGoYCBBgAN0MgTCbrTGkAAAAASUVORK5CYII=\"","import 'leaflet/dist/leaflet.css'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport { Button } from 'react-bootstrap'\nimport Form from '../../components/Form/Form'\nimport { Footer } from './commons'\nimport './modals.scss'\n\nclass CreateNewService extends React.Component {\n\tstate = {\n\t\tname: '',\n\t\tdescription: '',\n\t\tprotocol: '',\n\t\tport: ''\n\t}\n\n\tchangeField = (field, value) => {\n\t\tthis.setState({\n\t\t\t[field]: value\n\t\t})\n\t}\n\n\tonNameChange = val => this.changeField('name', val)\n\tonDescriptionChange = val => this.changeField('description', val)\n\tonPortChange = val => this.changeField('port', val)\n\tonProtocolChange = val => this.changeField('protocol', val)\n\n\tonFinish = () => {\n\t\tif (this.validate()) {\n\t\t\tthis.props.onFinish(this.state)\n\t\t}\n\t}\n\n\tvalidate() {\n\t\treturn true\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className={'modal__content padded create-new-protocol'}>\n\t\t\t\t\t<Form.Group full label={'Name'}>\n\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t\t\tonChange={this.onNameChange}\n\t\t\t\t\t\t\tplaceholder={'Name'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group full={true} label={'Description'}>\n\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\tvalue={this.state.description}\n\t\t\t\t\t\t\tonChange={this.onDescriptionChange}\n\t\t\t\t\t\t\tplaceholder={'Device description'}\n\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group full label={'Protocol'}>\n\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\tvalue={this.state.protocol}\n\t\t\t\t\t\t\tonChange={this.onProtocolChange}\n\t\t\t\t\t\t\tplaceholder={'Protocol'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group full label={'Port'}>\n\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\tvalue={this.state.port}\n\t\t\t\t\t\t\tonChange={this.onPortChange}\n\t\t\t\t\t\t\tplaceholder={'Port'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<div className={'survey__footer'}>\n\t\t\t\t\t\t<Button bsStyle={'primary'} onClick={this.onFinish}>\n\t\t\t\t\t\t\tCreate\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nCreateNewService.propTypes = {\n\tonFinish: PropTypes.func.isRequired,\n\tedit: PropTypes.bool,\n\titem: PropTypes.object\n}\n\nCreateNewService.Footer = Footer\nexport default CreateNewService\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport './advanced-container.scss'\n\nexport default class AdvancedContainer extends React.PureComponent {\n\tstate = {\n\t\texpanded: false\n\t}\n\n\thandleClick = () => this.setState({ expanded: !this.state.expanded })\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={'advanced-container'}>\n\t\t\t\t<p className={'advanced-container--title'} onClick={this.handleClick}>\n\t\t\t\t\t<i\n\t\t\t\t\t\tclassName={`pe-7s-angle-down ${\n\t\t\t\t\t\t\tthis.state.expanded ? 'inverted' : ''\n\t\t\t\t\t\t}`}\n\t\t\t\t\t/>\n\t\t\t\t\t<span>Advanced</span>\n\t\t\t\t</p>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`advanced-container--content ${\n\t\t\t\t\t\tthis.state.expanded ? 'visible' : ''\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdvancedContainer.propTypes = {\n\tchildren: PropTypes.oneOfType([\n\t\tPropTypes.element,\n\t\tPropTypes.arrayOf(PropTypes.element)\n\t])\n}\n","import 'leaflet/dist/leaflet.css'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport AddButton from '../../components/AddButton/AddButton'\nimport AdvancedContainer from '../../components/AdvancedContainer/AdvancedContainer'\nimport Card from '../../components/Card/Card'\nimport Form from '../../components/Form/Form'\nimport {\n\tACTION_TYPES,\n\tACTION_TYPES_OPTIONS,\n\tEXPIRATION_TYPE,\n\tEXPIRATION_TYPE_OPTIONS,\n\tMOCK_OPTIONS\n} from '../../enums'\nimport { Footer } from './commons'\nimport './modals.scss'\n\nclass NewPolicySurvey extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\texpiryType: EXPIRATION_TYPE.HARD,\n\t\t\tservices: [],\n\t\t\tsources: [],\n\t\t\tdestinations: [],\n\t\t\tapplications: [],\n\t\t\tthreatManagement: 2,\n\t\t\tactionType: ACTION_TYPES.ALLOW\n\t\t}\n\t}\n\n\tchangeField = (field, value) => {\n\t\tthis.setState({\n\t\t\t[field]: value\n\t\t})\n\t}\n\n\tonNameChange = val => this.changeField('name', val)\n\tonNotesChange = val => this.changeField('notes', val)\n\tonExpiryChange = val => this.changeField('expiry', val)\n\tonDescriptionChange = val => this.changeField('description', val)\n\tonExpiryTypeChange = val => this.changeField('expiryType', val)\n\tonActionTypeChange = val => this.changeField('actionType', val)\n\tonThreatManagementChange = val => this.changeField('threatManagement', val)\n\n\tonFinish = () => {\n\t\tif (this.validate()) {\n\t\t\tthis.props.onFinish(this.state)\n\t\t}\n\t}\n\n\tonPotentialItemChange = (value, field) => {\n\t\tthis.changeField(`potential${field.capitalize()}`, value)\n\t}\n\n\tonNewItemManual = field => {\n\t\tthis.setState({\n\t\t\t[field]: [\n\t\t\t\t...this.state[field],\n\t\t\t\tthis.state[`potential${field.capitalize()}`]\n\t\t\t],\n\t\t\t[`potential${field.capitalize()}`]: ''\n\t\t})\n\t}\n\n\tonRemoveItem = (index, field) => {\n\t\tthis.setState({\n\t\t\t[field]: this.state[field].filter((s, i) => i !== index)\n\t\t})\n\t}\n\n\tonNewService = () => {\n\t\tthis.setState({\n\t\t\tservices: [\n\t\t\t\t...this.state.services,\n\t\t\t\tthis.props.options.find(\n\t\t\t\t\to => o.id === this.state.potentialServices.value\n\t\t\t\t)\n\t\t\t],\n\t\t\tpotentialServices: ''\n\t\t})\n\t}\n\n\tvalidate() {\n\t\treturn true\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className={'modal__content padded new-policy-survey'}>\n\t\t\t\t\t<Card header={false}>\n\t\t\t\t\t\t<div className={'form-row'}>\n\t\t\t\t\t\t\t<Form.Group required={true} label={'Name'}>\n\t\t\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t\t\t\t\tonChange={this.onNameChange}\n\t\t\t\t\t\t\t\t\tplaceholder={'Enter policy name'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\tfull={true}\n\t\t\t\t\t\t\t\tlabel={'Description'}\n\t\t\t\t\t\t\t\textraClass={'description-container'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\t\t\tvalue={this.state.description}\n\t\t\t\t\t\t\t\t\tonChange={this.onDescriptionChange}\n\t\t\t\t\t\t\t\t\tplaceholder={'Device description'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'form-row'}>\n\t\t\t\t\t\t\t<Form.Group required={true} label={'Sources'}>\n\t\t\t\t\t\t\t\t{this.state.sources.map((a, index) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={`sources-index-${index}`}\n\t\t\t\t\t\t\t\t\t\tclassName={'policy--application_single'}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<p className={'medium strong'}>{a}</p>\n\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\tclassName={'pe-7s-close red-delete-icon'}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveItem(index, 'sources')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<div className={'flex-row baseline'}>\n\t\t\t\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.potentialSources}\n\t\t\t\t\t\t\t\t\t\tonChange={val => this.onPotentialItemChange(val, 'sources')}\n\t\t\t\t\t\t\t\t\t\tplaceholder={'Add new source'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.onNewItemManual('sources')}\n\t\t\t\t\t\t\t\t\t\tclassName={'space-left'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\textraClass={'services-container'}\n\t\t\t\t\t\t\t\tlabel={'Services'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{this.state.services.map((s, index) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={`services-index-${index}-${s.id}`}\n\t\t\t\t\t\t\t\t\t\tclassName={'policy--services_single'}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<p className={'medium strong'}>{`${s.name} - ${\n\t\t\t\t\t\t\t\t\t\t\ts.protocol ? 'TCP' : 'UDP'\n\t\t\t\t\t\t\t\t\t\t}/${s.port} `}</p>\n\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\tclassName={'pe-7s-close red-delete-icon'}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveItem(index, 'services')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<div className={'flex-row baseline'}>\n\t\t\t\t\t\t\t\t\t<Form.Select\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.potentialServices}\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\t\t\tthis.onPotentialItemChange(val, 'services')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tplaceholder={'Service'}\n\t\t\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t\t\t...this.props.options.map(o => ({\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: o.id,\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: `${o.protocol}/${o.port} (${o.name})`\n\t\t\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\t\t\tonClick={this.onNewService}\n\t\t\t\t\t\t\t\t\t\tclassName={'space-left'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\textraClass={'applications-container'}\n\t\t\t\t\t\t\t\tlabel={'Applications'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{this.state.applications.map((a, index) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={`applications-index-${index}`}\n\t\t\t\t\t\t\t\t\t\tclassName={'policy--application_single'}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<p className={'medium strong'}>{a}</p>\n\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\tclassName={'pe-7s-close red-delete-icon'}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveItem(index, 'applications')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<div className={'flex-row baseline'}>\n\t\t\t\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.potentialApplications}\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\t\t\tthis.onPotentialItemChange(val, 'applications')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tplaceholder={'Application'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.onNewItemManual('applications')}\n\t\t\t\t\t\t\t\t\t\tclassName={'space-left'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\textraClass={'destinations-container'}\n\t\t\t\t\t\t\t\tlabel={'Destination'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{this.state.destinations.map((a, index) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={`destinations-index-${index}`}\n\t\t\t\t\t\t\t\t\t\tclassName={'policy--destination_single'}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<p className={'medium strong'}>{a}</p>\n\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\tclassName={'pe-7s-close red-delete-icon'}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveItem(index, 'destinations')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<div className={'flex-row baseline'}>\n\t\t\t\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.potentialDestinations}\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\t\t\tthis.onPotentialItemChange(val, 'destinations')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tplaceholder={'Add new destination'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.onNewItemManual('destinations')}\n\t\t\t\t\t\t\t\t\t\tclassName={'space-left'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'form-row'}>\n\t\t\t\t\t\t\t<Form.Group required center={true} label={'Action'}>\n\t\t\t\t\t\t\t\t<Form.Toggle\n\t\t\t\t\t\t\t\t\tselected={this.state.actionType}\n\t\t\t\t\t\t\t\t\tselectedClass={'toggle-selected'}\n\t\t\t\t\t\t\t\t\tonChange={this.onActionTypeChange}\n\t\t\t\t\t\t\t\t\toptions={ACTION_TYPES_OPTIONS}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className={'checkbox-label wedge-checkbox-container'}>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.threatManagement}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\tthis.onThreatManagementChange(ev.target.checked)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span className={'checkmark'} />\n\t\t\t\t\t\t\t\t\t<span className={'title'}>Threat management</span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'advance component-coming-soon'}>\n\t\t\t\t\t\t\t<AdvancedContainer>\n\t\t\t\t\t\t\t\t<div className={'form-row'}>\n\t\t\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\t\t\textraClass={'notes-container'}\n\t\t\t\t\t\t\t\t\t\tfull\n\t\t\t\t\t\t\t\t\t\tlabel={'Notes'}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.notes}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onNotesChange}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={'Notes'}\n\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\trows={8}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Group extraClass={'expiry-container'} label={'Expiry'}>\n\t\t\t\t\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.expiry}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onExpiryChange}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={'Expiry'}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Form.Toggle\n\t\t\t\t\t\t\t\t\t\t\tselected={this.state.expiryType}\n\t\t\t\t\t\t\t\t\t\t\tselectedClass={'toggle-selected'}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onExpiryTypeChange}\n\t\t\t\t\t\t\t\t\t\t\toptions={EXPIRATION_TYPE_OPTIONS}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t<div className={'actions-container'}>\n\t\t\t\t\t\t\t\t\t\t<Form.Group label={'URL Filter'}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Select\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.urlFilter}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.onAssetChange}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={'Abused drug'}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={MOCK_OPTIONS}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t<Form.Group label={'File Type'}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Select\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.fileType}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.onAssetChange}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={'XML'}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={MOCK_OPTIONS}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t<Form.Group label={'Pattern Filter'}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Select\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.patternFilter}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.onAssetChange}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={'Data filter'}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={MOCK_OPTIONS}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</AdvancedContainer>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Card>\n\t\t\t\t</div>\n\t\t\t\t<div className={'wedge-modal__footer'}>\n\t\t\t\t\t<Footer onClick={this.onFinish} edit={this.props.edit} />\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nNewPolicySurvey.propTypes = {\n\tonFinish: PropTypes.func.isRequired,\n\tedit: PropTypes.bool,\n\titem: PropTypes.object,\n\toptions: PropTypes.array.isRequired\n}\n\nconst ConnectedServiceField = connect(\n\tstate => ({\n\t\toptions: state.ecosystems.dictionaries.services\n\t}),\n\tnull\n)(NewPolicySurvey)\n\nNewPolicySurvey.Footer = Footer\nexport default ConnectedServiceField\n","import moment from 'moment'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { INFO } from '../../../../assets/Icons'\nimport ServiceIcon from '../../../../assets/img/PNG/Acreto_Icon 16.png'\nimport ApplicationIcon from '../../../../assets/img/PNG/Acreto_Icon 17.png'\nimport AddButton from '../../../../components/AddButton/AddButton'\nimport Form from '../../../../components/Form/Form'\nimport Translator from '../../../../utils/enumTranslator'\n\nimport {\n\tgetArrow,\n\tgetIconForRegionName,\n\tgetIconForStatus\n} from '../../../../variables/Icons'\n\nimport './policy-table-item.scss'\n\nfunction TableItemContainer({ children, active = false }) {\n\treturn (\n\t\t<div className={`policy-table-item item ${active ? 'active' : ''}`}>\n\t\t\t{children}\n\t\t</div>\n\t)\n}\n\nfunction Field({ children, extraClass = '' }) {\n\treturn <div className={`field ${extraClass}`}>{children}</div>\n}\n\nfunction ResponsiveField({ children, title, extraClass = '' }) {\n\treturn (\n\t\t<div className={`field ${extraClass}`}>\n\t\t\t<p className={'field__title'}>{title}</p>\n\t\t\t<div className={'field__content'}>{children}</div>\n\t\t</div>\n\t)\n}\n\nfunction BasicObjectInfo({ data, onClick }) {\n\tconst expiryType = Translator.expirationType(data.expiry.type)\n\treturn (\n\t\t<div className={'policyinfo'}>\n\t\t\t<div className={'policyinfo__button'} onClick={onClick}>\n\t\t\t\t{data.id}\n\t\t\t\t<img src={INFO} alt={'info-icon'} className={'small-icon'} />\n\t\t\t</div>\n\t\t\t<p className={'policyinfo__title normal strong'}>{data.name}</p>\n\t\t\t<div className={'policyinfo__time-container'}>\n\t\t\t\t{/*<img src={ TYPE_IOT } alt={ 'type-icon' } className={ 'small-icon' }/>*/}\n\t\t\t\t<p className={'medium'}>\n\t\t\t\t\t{moment(data.expiry.date).format('DD/MM/YYYY')}\n\t\t\t\t</p>\n\t\t\t\t<div className={'divider'} />\n\t\t\t\t<p className={`medium expiry ${expiryType.label}`}>\n\t\t\t\t\t{expiryType.label}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction SmallTextField({ text }) {\n\treturn <p className={'small'}>{text}</p>\n}\n\nfunction TextField({ text, strong, size }) {\n\treturn <p className={`${size} ${strong ? 'strong' : ''}`}>{text}</p>\n}\n\nfunction NspInfo({ data, showAll = false, onExpand }) {\n\tconst limitedData = showAll ? data : [data[0]]\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{limitedData.map((d, index) => (\n\t\t\t\t<div key={index} className={'single-nsp'}>\n\t\t\t\t\t{index === 0 && <p className={'normal nsp-text'}>Primary NSP</p>}\n\t\t\t\t\t{index === 1 && (\n\t\t\t\t\t\t<p className={'normal nsp-text nsp-text-secondary'}>\n\t\t\t\t\t\t\tSecondary NSP\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\t\t\t\t\t<div key={`nsp-info-index-${index}`} className={'primary-container'}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={getArrow(d.status === 'good')}\n\t\t\t\t\t\t\tclassName={'arrow-status'}\n\t\t\t\t\t\t\talt={'arrow-status'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={getIconForRegionName(d.name, d.status === 'good')}\n\t\t\t\t\t\t\talt={'region-icon'}\n\t\t\t\t\t\t\tclassName={'region-icon'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className={'divider big'} />\n\t\t\t\t\t\t<div className={'flex-column'}>\n\t\t\t\t\t\t\t<p className={'small strong nsp-name'}>{d.name}</p>\n\t\t\t\t\t\t\t<div className={'flex-row'}>\n\t\t\t\t\t\t\t\t<p className={'small'}>\n\t\t\t\t\t\t\t\t\t{d.ping} <span className={'unit'}>ms</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<div className={'divider small'} />\n\t\t\t\t\t\t\t\t<p className={'small'}>\n\t\t\t\t\t\t\t\t\t{`${d.loss}% `}\n\t\t\t\t\t\t\t\t\t<span className={'unit'}>Loss</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t\t{!showAll && (\n\t\t\t\t<p className={'more'} onClick={onExpand}>\n\t\t\t\t\t{data.length > 1 && `+${data.length - 1} more`}\n\t\t\t\t</p>\n\t\t\t)}\n\t\t</React.Fragment>\n\t)\n}\n\nclass ServiceField extends React.PureComponent {\n\tstate = {\n\t\tservice: {}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps.options.length !== this.props.options.length) {\n\t\t\tconst lastOption = this.props.options[this.props.options.length - 1]\n\t\t\tthis.setState({\n\t\t\t\tservice: {\n\t\t\t\t\tvalue: lastOption.id,\n\t\t\t\t\tlabel: `${lastOption.protocol}/${lastOption.port} (${\n\t\t\t\t\t\tlastOption.name\n\t\t\t\t\t})`\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tonServiceChange = newService => {\n\t\tif (newService.value === -1) {\n\t\t\tthis.props.onCreateNew()\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tservice: newService\n\t\t\t})\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { services, options } = this.props\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{services.map((service, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={'single-service'}\n\t\t\t\t\t\t\tkey={`services-index-${index}-${service.id}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={ServiceIcon}\n\t\t\t\t\t\t\t\talt={'service-icon'}\n\t\t\t\t\t\t\t\tclassName={'small-icon'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p className={'medium strong'}>{`${\n\t\t\t\t\t\t\t\t\tservice.tcp ? 'TCP' : 'UDP'\n\t\t\t\t\t\t\t\t}/${service.port}`}</p>\n\t\t\t\t\t\t\t\t<p className={'small'}>{`(${service.protocol})`}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t\t<Form.Group full>\n\t\t\t\t\t<div className={'flex-row baseline'}>\n\t\t\t\t\t\t<Form.Select\n\t\t\t\t\t\t\tvalue={this.state.service}\n\t\t\t\t\t\t\tonChange={this.onServiceChange}\n\t\t\t\t\t\t\tplaceholder={'Service'}\n\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t...options.map(o => ({\n\t\t\t\t\t\t\t\t\tvalue: o.id,\n\t\t\t\t\t\t\t\t\tlabel: `${o.protocol}/${o.port} (${o.name})`\n\t\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\t\t{ value: -1, label: 'Create new service' }\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<AddButton className={'space-left'} />\n\t\t\t\t\t</div>\n\t\t\t\t</Form.Group>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nconst ConnectedServiceField = connect(\n\tstate => ({\n\t\toptions: state.ecosystems.dictionaries.services\n\t}),\n\tnull\n)(ServiceField)\n\nfunction ApplicationField({ applications }) {\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{applications.map(application => {\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={'single-application'}\n\t\t\t\t\t\tkey={`application-index-${application.id}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ApplicationIcon}\n\t\t\t\t\t\t\talt={'application-icon'}\n\t\t\t\t\t\t\tclassName={'small-icon'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<p className={'medium strong'}>{application.name}</p>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t})}\n\t\t</React.Fragment>\n\t)\n}\n\nfunction StatusInfo({ data }) {\n\treturn (\n\t\t<div className={'statusinfo'}>\n\t\t\t<div className={'centered-row status-text-container'}>\n\t\t\t\t<img\n\t\t\t\t\tsrc={getIconForStatus(data.status)}\n\t\t\t\t\tclassName={'tiny-icon'}\n\t\t\t\t\talt={'status-icon'}\n\t\t\t\t/>\n\t\t\t\t<p className={'normal capitalize'}>{data.status}</p>\n\t\t\t</div>\n\t\t\t<p className={'text medium grayish space-above-8'}>Last change</p>\n\t\t\t<p className={'text medium'}>{moment(data.lastChange).fromNow()}</p>\n\t\t</div>\n\t)\n}\n\nexport default class PolicyTableItem extends React.PureComponent {\n\tstate = {\n\t\tshowAll: false\n\t}\n\n\tonClick = () => {\n\t\tthis.setState({\n\t\t\tshowAll: !this.state.showAll\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tdata,\n\t\t\tresponsive = false,\n\t\t\tonDetails,\n\t\t\tonNewService,\n\t\t\tindex = 0\n\t\t} = this.props\n\t\tconst WrapperComponent = responsive ? ResponsiveField : Field\n\t\treturn (\n\t\t\t<TableItemContainer active={this.state.showAll}>\n\t\t\t\t<div className={'policy__counter'}>\n\t\t\t\t\t<span>{index}</span>\n\t\t\t\t</div>\n\t\t\t\t<WrapperComponent title={'Policy'} extraClass={'field__info'}>\n\t\t\t\t\t<BasicObjectInfo data={data} onClick={onDetails} />\n\t\t\t\t</WrapperComponent>\n\t\t\t\t<WrapperComponent title={'Source'} extraClass={'field__source'}>\n\t\t\t\t\t<SmallTextField text={data.source} />\n\t\t\t\t</WrapperComponent>\n\t\t\t\t<WrapperComponent title={'Service'} extraClass={'field__service'}>\n\t\t\t\t\t<ConnectedServiceField\n\t\t\t\t\t\tservices={data.services}\n\t\t\t\t\t\tonCreateNew={onNewService}\n\t\t\t\t\t/>\n\t\t\t\t</WrapperComponent>\n\t\t\t\t<WrapperComponent\n\t\t\t\t\ttitle={'Application'}\n\t\t\t\t\textraClass={'field__application'}\n\t\t\t\t>\n\t\t\t\t\t<ApplicationField applications={data.applications} />\n\t\t\t\t</WrapperComponent>\n\t\t\t\t<WrapperComponent\n\t\t\t\t\ttitle={'Destination'}\n\t\t\t\t\textraClass={'field__destination'}\n\t\t\t\t>\n\t\t\t\t\t<SmallTextField text={data.destination} />\n\t\t\t\t</WrapperComponent>\n\t\t\t\t<WrapperComponent title={'Actions'} extraClass={'field__action'}>\n\t\t\t\t\t<p>Not implemented</p>\n\t\t\t\t</WrapperComponent>\n\t\t\t</TableItemContainer>\n\t\t)\n\t}\n}\n\nNspInfo.propTypes = {\n\tdata: PropTypes.array.isRequired,\n\tshowAll: PropTypes.bool,\n\tonExpand: PropTypes.func.isRequired\n}\n\nResponsiveField.propTypes = {\n\tchildren: PropTypes.element.isRequired,\n\ttitle: PropTypes.string.isRequired,\n\textraClass: PropTypes.string\n}\n\nField.propTypes = {\n\tchildren: PropTypes.element.isRequired,\n\textraClass: PropTypes.string\n}\n\nSmallTextField.propTypes = {\n\ttext: PropTypes.string.isRequired\n}\n\nTextField.defaultProps = {\n\ttext: ''\n}\n\nTextField.propTypes = {\n\ttext: PropTypes.string.isRequired,\n\tstrong: PropTypes.bool,\n\tsize: PropTypes.oneOf(['small', 'medium', 'big'])\n}\n\nStatusInfo.propTypes = {\n\tdata: PropTypes.object.isRequired\n}\n\nBasicObjectInfo.propTypes = {\n\tdata: PropTypes.object.isRequired,\n\tonClick: PropTypes.func.isRequired\n}\n\nTableItemContainer.propTypes = {\n\tchildren: PropTypes.array.isRequired,\n\tactive: PropTypes.bool\n}\n\nServiceField.propTypes = {\n\tservices: PropTypes.array.isRequired,\n\tonCreateNew: PropTypes.func.isRequired,\n\toptions: PropTypes.array.isRequired\n}\n\nApplicationField.propTypes = {\n\tapplications: PropTypes.array.isRequired\n}\n\nPolicyTableItem.propTypes = {\n\tdata: PropTypes.object.isRequired,\n\tresponsive: PropTypes.bool.isRequired,\n\tonDetails: PropTypes.func.isRequired,\n\tonEdit: PropTypes.func.isRequired,\n\tindex: PropTypes.number.isRequired,\n\tonNewService: PropTypes.func.isRequired\n}\n","import React from 'react'\nimport { Dropdown, Glyphicon, MenuItem } from 'react-bootstrap'\nimport './search-bar.scss'\n\nexport default class SearchBar extends React.Component {\n\tstate = {\n\t\tvalue: ''\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({\n\t\t\tvalue: e.target.value\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={'search-bar component-coming-soon'}>\n\t\t\t\t<Dropdown id={'dropdown-refresh-rate'}>\n\t\t\t\t\t<Dropdown.Toggle bsStyle={'primary'} id=\"dropdown-basic\">\n\t\t\t\t\t\t{'All'}\n\t\t\t\t\t</Dropdown.Toggle>\n\t\t\t\t\t<Dropdown.Menu>\n\t\t\t\t\t\t{['All', 'Some', 'Any'].map(rate => (\n\t\t\t\t\t\t\t<MenuItem active={rate === 'All'} key={`rate-index-item-${rate}`}>\n\t\t\t\t\t\t\t\t{rate}\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t</Dropdown>\n\t\t\t\t<Glyphicon className={'small-icon'} glyph=\"search\" />\n\t\t\t\t<input\n\t\t\t\t\tplaceholder={'Search'}\n\t\t\t\t\tvalue={this.state.value}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n","import {\n\tFETCHING_POLICIES_FAILURE,\n\tFETCHING_POLICIES_REQUESTED,\n\tFETCHING_POLICIES_SUCCESS,\n\tCREATION_POLICY_FAILURE,\n\tCREATION_POLICY_REQUESTED,\n\tCREATION_POLICY_SUCCESS,\n\tUPDATE_POLICY_REQUESTED,\n\tUPDATE_POLICY_SUCCESS,\n\tUPDATE_POLICY_FAILURE\n} from './action-types'\n\nexport function fetchingPoliciesStarted() {\n\treturn {\n\t\ttype: FETCHING_POLICIES_REQUESTED\n\t}\n}\n\nexport function fetchingPoliciesSuccess(results, ecosystem) {\n\treturn {\n\t\ttype: FETCHING_POLICIES_SUCCESS,\n\t\tpayload: {\n\t\t\tresults,\n\t\t\tecosystem\n\t\t}\n\t}\n}\n\nexport function fetchingPoliciesFailed(err) {\n\treturn {\n\t\ttype: FETCHING_POLICIES_FAILURE,\n\t\tpayload: {\n\t\t\tmessage: err\n\t\t}\n\t}\n}\n\nexport function creationPolicyStarted() {\n\treturn {\n\t\ttype: CREATION_POLICY_REQUESTED\n\t}\n}\n\nexport function creationPolicySuccess(result, ecosystem) {\n\treturn {\n\t\ttype: CREATION_POLICY_SUCCESS,\n\t\tpayload: {\n\t\t\tresult,\n\t\t\tecosystem\n\t\t}\n\t}\n}\n\nexport function creationPolicyFailed(err) {\n\treturn {\n\t\ttype: CREATION_POLICY_FAILURE,\n\t\tpayload: {\n\t\t\tmessage: err\n\t\t}\n\t}\n}\n\nexport function updatePolicyStarted() {\n\treturn {\n\t\ttype: UPDATE_POLICY_REQUESTED\n\t}\n}\n\nexport function updatePolicySuccess(result, ecosystem) {\n\treturn {\n\t\ttype: UPDATE_POLICY_SUCCESS,\n\t\tpayload: {\n\t\t\tresult,\n\t\t\tecosystem\n\t\t}\n\t}\n}\n\nexport function updatePolicyFailed(err) {\n\treturn {\n\t\ttype: UPDATE_POLICY_FAILURE,\n\t\tpayload: {\n\t\t\tmessage: err\n\t\t}\n\t}\n}\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport Modal from 'react-modal'\nimport { connect } from 'react-redux'\nimport AddButton from '../../components/AddButton/AddButton'\nimport Loader from '../../components/Loader/Loader'\nimport Table from '../../components/Table/Table'\nimport WedgeModal from '../../components/WedgeModal/WedgeModal'\nimport { POLICY_TABLE_FIELDS } from '../../enums'\nimport {\n\tcreateErrorMessageSelector,\n\tcreateLoadingSelector\n} from '../../store/utils/selectors'\nimport CreateNewService from '../Modals/CreateNewService'\nimport NewPolicySurvey from '../Modals/NewPolicySurvey'\nimport PolicyTableItem from './components/PolicyTableItem/PolicyTableItem'\nimport SearchBar from './components/SearchBar/SearchBar'\nimport {\n\tcreatePolicy,\n\tfetchPolicies,\n\tupdatePolicy,\n\tcreateService\n} from './scenario-actions'\nimport './security.scss'\n\nModal.setAppElement('#modal-root')\n\nclass Security extends Component {\n\tstate = {\n\t\tcreateModalOpened: true,\n\t\tdetailModalOpened: false,\n\t\teditModalOpened: false,\n\t\tserviceModalOpened: false,\n\t\tdetailsOf: {}\n\t}\n\n\tonEditClick = () => {\n\t\tthis.openEditModal()\n\t}\n\n\topenModal = () => {\n\t\tthis.setState({ createModalOpened: true })\n\t}\n\n\topenDetailsModal = item => {\n\t\tthis.setState({\n\t\t\tdetailsOf: item,\n\t\t\tdetailModalOpened: true\n\t\t})\n\t}\n\n\tcloseDetailsModal = () => {\n\t\tthis.setState({\n\t\t\tdetailModalOpened: false\n\t\t})\n\t}\n\n\topenServiceCreateModal = () => {\n\t\tthis.setState({\n\t\t\tserviceModalOpened: true\n\t\t})\n\t}\n\n\tcloseServiceCreateModal = () => {\n\t\tthis.setState({\n\t\t\tserviceModalOpened: false\n\t\t})\n\t}\n\n\topenEditModal = item => {\n\t\tthis.setState({\n\t\t\tdetailsOf: item || this.state.detailsOf,\n\t\t\tkeepDetailsOpened: this.state.detailModalOpened,\n\t\t\tdetailModalOpened: false,\n\t\t\teditModalOpened: true\n\t\t})\n\t}\n\n\tcloseEditModal = () => {\n\t\tthis.setState({\n\t\t\teditModalOpened: false,\n\t\t\tdetailModalOpened: this.state.keepDetailsOpened,\n\t\t\tkeepDetailsOpened: false\n\t\t})\n\t}\n\n\tcloseCreateModal = () => {\n\t\tthis.setState({\n\t\t\tcreateModalOpened: false\n\t\t})\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.fetchPolicies()\n\t}\n\n\trenderDetailModal = () => {\n\t\treturn null //<Details data={ this.state.detailsOf }/>\n\t}\n\n\trenderEditModal = () => {\n\t\treturn null //<Survey onFinish={ this.onEdit } item={ this.state.detailsOf } edit/>\n\t}\n\n\trenderCreationModal = () => {\n\t\treturn <NewPolicySurvey onFinish={newPolicy => this.onAdd(newPolicy)} />\n\t}\n\n\tonAdd = entity => {\n\t\tthis.props.createPolicy(entity)\n\t\tthis.closeCreateModal()\n\t}\n\n\tonEdit = entity => {\n\t\tthis.props.updatePolicy(entity)\n\t\tthis.closeEditModal()\n\t}\n\n\tonCreateService = service => {\n\t\tthis.props.createService(service)\n\t\tthis.closeServiceCreateModal()\n\t}\n\n\trenderPolicies = matches => {\n\t\tconst { items } = this.props\n\t\treturn items.map((item, index) => (\n\t\t\t<PolicyTableItem\n\t\t\t\tkey={`policy-table-item-${item.id}-${item.name}`}\n\t\t\t\tresponsive={matches}\n\t\t\t\tdata={item}\n\t\t\t\tindex={index + 1}\n\t\t\t\tonEdit={() => this.openEditModal(item)}\n\t\t\t\tonDetails={() => this.openDetailsModal(item)}\n\t\t\t\tonNewService={this.openServiceCreateModal}\n\t\t\t/>\n\t\t))\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"content policies\">\n\t\t\t\t<div className={'policies__search-bar'}>\n\t\t\t\t\t<SearchBar />\n\t\t\t\t</div>\n\t\t\t\t<AddButton onClick={this.openModal}>Add New Policy</AddButton>\n\t\t\t\t<Table.Container root={'policies'}>\n\t\t\t\t\t<Table.Content\n\t\t\t\t\t\troot={'policies'}\n\t\t\t\t\t\theaderComponent={<Table.Header items={POLICY_TABLE_FIELDS} />}\n\t\t\t\t\t\trenderItems={this.renderPolicies}\n\t\t\t\t\t/>\n\t\t\t\t</Table.Container>\n\t\t\t\t{this.props.isLoading && (\n\t\t\t\t\t<div className={'loader-container'}>\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<WedgeModal\n\t\t\t\t\tisOpen={this.state.createModalOpened}\n\t\t\t\t\tonClose={this.closeCreateModal}\n\t\t\t\t\ttitle={'Create new policy'}\n\t\t\t\t\tsize={'big'}\n\t\t\t\t>\n\t\t\t\t\t{this.renderCreationModal()}\n\t\t\t\t</WedgeModal>\n\t\t\t\t<WedgeModal\n\t\t\t\t\tisOpen={this.state.detailModalOpened}\n\t\t\t\t\tonClose={this.closeDetailsModal}\n\t\t\t\t\tadditionalAction={{\n\t\t\t\t\t\ticon: 'pe-7s-config',\n\t\t\t\t\t\tcallback: this.onEditClick\n\t\t\t\t\t}}\n\t\t\t\t\ttitle={`${this.state.detailsOf.name} - Details`}\n\t\t\t\t>\n\t\t\t\t\t{this.renderDetailModal()}\n\t\t\t\t</WedgeModal>\n\t\t\t\t<WedgeModal\n\t\t\t\t\tisOpen={this.state.editModalOpened}\n\t\t\t\t\tonClose={this.closeEditModal}\n\t\t\t\t\ttitle={`${this.state.detailsOf.name} - Edit`}\n\t\t\t\t>\n\t\t\t\t\t{this.renderEditModal()}\n\t\t\t\t</WedgeModal>\n\t\t\t\t<WedgeModal\n\t\t\t\t\tsize={'small'}\n\t\t\t\t\tisOpen={this.state.serviceModalOpened}\n\t\t\t\t\tonClose={this.closeServiceCreateModal}\n\t\t\t\t\ttitle={'Create new service'}\n\t\t\t\t>\n\t\t\t\t\t<CreateNewService onFinish={this.onCreateService} />\n\t\t\t\t</WedgeModal>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSecurity.propTypes = {\n\tfetchPolicies: PropTypes.func.isRequired,\n\tcreatePolicy: PropTypes.func.isRequired,\n\tupdatePolicy: PropTypes.func.isRequired,\n\tcreateService: PropTypes.func.isRequired,\n\titems: PropTypes.array.isRequired,\n\tisLoading: PropTypes.bool.isRequired\n}\n\nSecurity.defaultProps = {\n\titems: []\n}\n\nconst loadingSelector = createLoadingSelector(['FETCHING_POLICIES'])\nconst errorSelector = createErrorMessageSelector(['FETCHING_POLICIES'])\n\nconst mapStateToProps = state => {\n\treturn {\n\t\titems: policiesSelector(state),\n\t\tisLoading: loadingSelector(state),\n\t\terror: errorSelector(state)\n\t}\n}\n\nconst policiesSelector = state => {\n\tconst ecosystem = state.ecosystems.currentEcosystem\n\tif (ecosystem) {\n\t\treturn state.policies[ecosystem.uuid]\n\t\t\t? state.policies[ecosystem.uuid].policies\n\t\t\t: []\n\t}\n\n\treturn []\n}\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tfetchPolicies: () => dispatch(fetchPolicies()),\n\t\tcreatePolicy: (entity, type) => dispatch(createPolicy(entity, type)),\n\t\tupdatePolicy: entity => dispatch(updatePolicy(entity)),\n\t\tcreateService: service => dispatch(createService(service))\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Security)\n","import * as REST from '../../api/rest'\nimport { appendNewService } from '../../store/ecosystems/actions'\nimport {\n\tcreationPolicyFailed,\n\tcreationPolicyStarted,\n\tcreationPolicySuccess,\n\tfetchingPoliciesFailed,\n\tfetchingPoliciesStarted,\n\tfetchingPoliciesSuccess\n} from '../../store/policies/actions'\n\nexport function fetchPolicies() {\n\treturn async (dispatch, getState) => {\n\t\ttry {\n\t\t\tconst ecosystem = getState().ecosystems.currentEcosystem\n\t\t\tdispatch(fetchingPoliciesStarted())\n\t\t\tconst objects = await REST.fetchPolicies({\n\t\t\t\tcustomer: '',\n\t\t\t\tecosystem\n\t\t\t})\n\t\t\tdispatch(fetchingPoliciesSuccess(objects, ecosystem))\n\t\t} catch (err) {\n\t\t\tdispatch(fetchingPoliciesFailed(err))\n\t\t}\n\t}\n}\n\nexport function createPolicy(policy) {\n\treturn async (dispatch, getState) => {\n\t\ttry {\n\t\t\tconst ecosystem = getState().ecosystems.currentecosystem.uuid\n\t\t\tdispatch(creationPolicyStarted())\n\t\t\tconst createdPolicy = await REST.createPolicy(policy, ecosystem)\n\t\t\tdispatch(creationPolicySuccess(createdPolicy, ecosystem))\n\t\t} catch (err) {\n\t\t\tdispatch(creationPolicyFailed(err))\n\t\t}\n\t}\n}\n\nexport function updatePolicy() {\n\treturn async () => {\n\t\ttry {\n\t\t\t// const ecosystem = getState().ecosystems.currentEcosystem\n\t\t\t// dispatch(updateObjectStarted())\n\t\t\t// const objects = await REST.updateObject(entity, ecosystem)\n\t\t\t// dispatch(updateObjectSuccess(objects, ecosystem))\n\t\t} catch (err) {\n\t\t\t// dispatch(updateObjectFailed(err))\n\t\t}\n\t}\n}\n\nexport function createService(service) {\n\treturn async (dispatch, getState) => {\n\t\ttry {\n\t\t\tconst ecosystem = getState().ecosystems.currentEcosystem\n\t\t\t// dispatch(updateObjectStarted())\n\t\t\tconst createdService = await REST.createService(service, ecosystem)\n\t\t\tdispatch(appendNewService(createdService, ecosystem))\n\t\t} catch (err) {\n\t\t\t// dispatch(updateObjectFailed(err))\n\t\t}\n\t}\n}\n"],"sourceRoot":""}