{"ast":null,"code":"import _classCallCheck from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vadym/Documents/work/job/wedge/src/components/SelectWithCreate/SelectWithCreate.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, MenuItem } from 'react-bootstrap';\nimport { Formik, Form, Field } from 'formik';\nimport { isEmpty } from 'lodash';\nimport './select-with-create.scss';\nimport groupValidationSchema from '../../validationSchemas/groupValidationSchema';\n\nvar SelectWithCreate =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SelectWithCreate, _React$Component);\n\n  function SelectWithCreate() {\n    _classCallCheck(this, SelectWithCreate);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SelectWithCreate).apply(this, arguments));\n  }\n\n  _createClass(SelectWithCreate, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return React.createElement(Dropdown, {\n        id: this.props.placeholder,\n        className: \"select-with-create\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 12\n        },\n        __self: this\n      }, React.createElement(Dropdown.Toggle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14\n        },\n        __self: this\n      }, this.props.selected ? this.props.selected.label : this.props.placeholder)), React.createElement(Dropdown.Menu, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }, this.props.options.map(function (opt, index) {\n        return React.createElement(MenuItem, {\n          key: \"select-item-\".concat(index, \"-\").concat(opt.value),\n          className: 'wedge-menu-item',\n          onSelect: function onSelect() {\n            return _this.props.onChange(opt);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        }, opt.label);\n      }), !this.props.createOpened && React.createElement(Formik, {\n        initialValues: {\n          name: ''\n        },\n        validationSchema: groupValidationSchema,\n        onSubmit: function onSubmit(values, _ref) {\n          var resetForm = _ref.resetForm;\n\n          _this.props.onCreate(values.name);\n\n          resetForm();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, function (_ref2) {\n        var errors = _ref2.errors;\n        return React.createElement(Form, {\n          className: \"create-new\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"field-error-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, React.createElement(Field, {\n          name: \"name\",\n          placeholder: \"New group name\",\n          onSelect: function onSelect(e) {\n            return e.stopPropagation();\n          },\n          onFocus: function onFocus(e) {\n            return e.preventDefault();\n          },\n          className: \"form__textinput\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          className: \"error-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, errors.name)), React.createElement(\"button\", {\n          disabled: !isEmpty(errors),\n          type: \"submit\",\n          className: \"save-button btn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, \"Save\"));\n      })));\n    }\n  }]);\n\n  return SelectWithCreate;\n}(React.Component);\n\nexport { SelectWithCreate as default };\nSelectWithCreate.propTypes = {\n  selected: PropTypes.object,\n  options: PropTypes.array.isRequired,\n  createOpened: PropTypes.bool.isRequired,\n  placeholder: PropTypes.string,\n  onCreate: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["/Users/vadym/Documents/work/job/wedge/src/components/SelectWithCreate/SelectWithCreate.jsx"],"names":["React","PropTypes","Dropdown","MenuItem","Formik","Form","Field","isEmpty","groupValidationSchema","SelectWithCreate","props","placeholder","selected","label","options","map","opt","index","value","onChange","createOpened","name","values","resetForm","onCreate","errors","e","stopPropagation","preventDefault","Component","propTypes","object","array","isRequired","bool","string","func"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Dropdown, MenuItem } from 'react-bootstrap'\nimport { Formik, Form, Field } from 'formik'\nimport { isEmpty } from 'lodash'\nimport './select-with-create.scss'\nimport groupValidationSchema from '../../validationSchemas/groupValidationSchema'\n\nexport default class SelectWithCreate extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Dropdown id={this.props.placeholder} className=\"select-with-create\">\n\t\t\t\t<Dropdown.Toggle>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{this.props.selected\n\t\t\t\t\t\t\t? this.props.selected.label\n\t\t\t\t\t\t\t: this.props.placeholder}\n\t\t\t\t\t</p>\n\t\t\t\t</Dropdown.Toggle>\n\n\t\t\t\t<Dropdown.Menu>\n\t\t\t\t\t{this.props.options.map((opt, index) => (\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tkey={`select-item-${index}-${opt.value}`}\n\t\t\t\t\t\t\tclassName={'wedge-menu-item'}\n\t\t\t\t\t\t\tonSelect={() => this.props.onChange(opt)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{opt.label}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t\t{!this.props.createOpened && (\n\t\t\t\t\t\t<Formik\n\t\t\t\t\t\t\tinitialValues={{\n\t\t\t\t\t\t\t\tname: ''\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvalidationSchema={groupValidationSchema}\n\t\t\t\t\t\t\tonSubmit={(values, { resetForm }) => {\n\t\t\t\t\t\t\t\tthis.props.onCreate(values.name)\n\t\t\t\t\t\t\t\tresetForm()\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{({ errors }) => (\n\t\t\t\t\t\t\t\t<Form className=\"create-new\">\n\t\t\t\t\t\t\t\t\t<div className=\"field-error-container\">\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"New group name\"\n\t\t\t\t\t\t\t\t\t\t\tonSelect={e => e.stopPropagation()}\n\t\t\t\t\t\t\t\t\t\t\tonFocus={e => e.preventDefault()}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form__textinput\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<p className=\"error-text\">{errors.name}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tdisabled={!isEmpty(errors)}\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"save-button btn\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Formik>\n\t\t\t\t\t)}\n\t\t\t\t</Dropdown.Menu>\n\t\t\t</Dropdown>\n\t\t)\n\t}\n}\n\nSelectWithCreate.propTypes = {\n\tselected: PropTypes.object,\n\toptions: PropTypes.array.isRequired,\n\tcreateOpened: PropTypes.bool.isRequired,\n\tplaceholder: PropTypes.string,\n\tonCreate: PropTypes.func.isRequired,\n\tonChange: PropTypes.func.isRequired\n}\n"]},"metadata":{},"sourceType":"module"}