{"ast":null,"code":"import _classCallCheck from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vadym/Documents/work/job/wedge/src/views/SignUpForm/SignUpForm.jsx\";\nimport React, { Component } from 'react';\nimport { Switch, withRouter, Redirect } from 'react-router-dom';\nimport findIndex from 'lodash/findIndex';\nimport Stepper from '../../components/Stepper/Stepper';\nimport EmailSubForm from './EmailSubForm/EmailSubForm';\nimport BillingSubForm from './BillingInfoSubForm/BillingInfoSubForm';\nimport PersonalInfoSubForm from './PersonalInfoSubForm/PersonalInfoSubForm';\nimport UnauthorizedRoute from '../../components/UnauthorizedRoute/UnauthorizedRoute';\nimport EmailConfirmation from './EmailConfirmation/EmailConfirmation';\nimport EmailEntered from './EmailEntered/EmailEntered';\nimport './sign-up-form.scss';\nimport { extractLastValueFromPathname } from '../../utils/routeLocationParsers';\n\nvar SignUpForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignUpForm, _Component);\n\n  function SignUpForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SignUpForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SignUpForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      stateStepIndex: 0\n    };\n    _this.steps = [{\n      title: 'SIGN UP',\n      endpoint: '/email'\n    }, {\n      title: 'PERSONAL INFORMATION',\n      endpoint: '/personal-info'\n    }, {\n      title: 'BILLING',\n      endpoint: '/billing'\n    }];\n    _this.basePath = '/auth/sign-up';\n    return _this;\n  }\n\n  _createClass(SignUpForm, [{\n    key: \"render\",\n    value: function render() {\n      var location = this.props.location;\n      var endpoint = \"/\".concat(extractLastValueFromPathname(location));\n      var endpointStepIndex = findIndex(this.steps, function (step) {\n        return step.endpoint === endpoint;\n      });\n      var stateStepIndex = this.state.stateStepIndex;\n      var activeStepIndex = endpointStepIndex >= 0 ? endpointStepIndex : stateStepIndex;\n      var shouldStepsBeDisplayed = activeStepIndex !== 0;\n      var shouldFormTitleBeDisplayed = !shouldStepsBeDisplayed;\n      return React.createElement(\"div\", {\n        className: 'signup-form-page--content',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, shouldStepsBeDisplayed && React.createElement(Stepper, {\n        steps: this.steps,\n        activeStepIndex: activeStepIndex,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: 'login-form',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, shouldFormTitleBeDisplayed && React.createElement(\"div\", {\n        className: \"form-title-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: 'title',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Sign Up\")), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(UnauthorizedRoute, {\n        exact: true,\n        path: \"\".concat(this.basePath).concat(this.steps[1].endpoint),\n        component: PersonalInfoSubForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(UnauthorizedRoute, {\n        exact: true,\n        path: \"\".concat(this.basePath).concat(this.steps[2].endpoint),\n        component: BillingSubForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(UnauthorizedRoute, {\n        exact: true,\n        path: \"\".concat(this.basePath, \"/email-confirmation\"),\n        component: EmailConfirmation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(UnauthorizedRoute, {\n        exact: true,\n        path: \"\".concat(this.basePath, \"/email-entered\"),\n        component: EmailEntered,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(UnauthorizedRoute, {\n        exact: true,\n        path: \"\".concat(this.basePath, \"/billing\"),\n        component: BillingSubForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(UnauthorizedRoute, {\n        path: this.basePath,\n        component: EmailSubForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(Redirect, {\n        to: \"\".concat(this.basePath),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return SignUpForm;\n}(Component);\n\nvar loadingSelector = createLoadingSelector(['LOGIN']);\nvar errorSelector = createErrorMessageSelector(['LOGIN']);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isLoading: loadingSelector(state),\n    error: errorSelector(state)\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    login: function (_login) {\n      function login(_x, _x2) {\n        return _login.apply(this, arguments);\n      }\n\n      login.toString = function () {\n        return _login.toString();\n      };\n\n      return login;\n    }(function (credentials, redirect) {\n      return dispatch(login(credentials, redirect));\n    })\n  };\n};\n\nvar ConnectedLogin = connect(mapStateToProps, mapDispatchToProps)(LoginForm);\nexport default withRouter(ConnectedLogin);","map":{"version":3,"sources":["/Users/vadym/Documents/work/job/wedge/src/views/SignUpForm/SignUpForm.jsx"],"names":["React","Component","Switch","withRouter","Redirect","findIndex","Stepper","EmailSubForm","BillingSubForm","PersonalInfoSubForm","UnauthorizedRoute","EmailConfirmation","EmailEntered","extractLastValueFromPathname","SignUpForm","state","stateStepIndex","steps","title","endpoint","basePath","location","props","endpointStepIndex","step","activeStepIndex","shouldStepsBeDisplayed","shouldFormTitleBeDisplayed","loadingSelector","createLoadingSelector","errorSelector","createErrorMessageSelector","mapStateToProps","isLoading","error","mapDispatchToProps","dispatch","login","credentials","redirect","ConnectedLogin","connect","LoginForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Switch, withRouter, Redirect } from 'react-router-dom'\nimport findIndex from 'lodash/findIndex'\n\nimport Stepper from '../../components/Stepper/Stepper'\nimport EmailSubForm from './EmailSubForm/EmailSubForm'\nimport BillingSubForm from './BillingInfoSubForm/BillingInfoSubForm'\nimport PersonalInfoSubForm from './PersonalInfoSubForm/PersonalInfoSubForm'\nimport UnauthorizedRoute from '../../components/UnauthorizedRoute/UnauthorizedRoute'\nimport EmailConfirmation from './EmailConfirmation/EmailConfirmation'\nimport EmailEntered from './EmailEntered/EmailEntered'\nimport './sign-up-form.scss'\nimport { extractLastValueFromPathname } from '../../utils/routeLocationParsers'\n\nclass SignUpForm extends Component {\n\tstate = {\n\t\tstateStepIndex: 0\n\t}\n\n\tsteps = [\n\t\t{\n\t\t\ttitle: 'SIGN UP',\n\t\t\tendpoint: '/email'\n\t\t},\n\t\t{\n\t\t\ttitle: 'PERSONAL INFORMATION',\n\t\t\tendpoint: '/personal-info'\n\t\t},\n\t\t{\n\t\t\ttitle: 'BILLING',\n\t\t\tendpoint: '/billing'\n\t\t}\n\t]\n\n\tbasePath = '/auth/sign-up'\n\n\trender() {\n\t\tconst { location } = this.props\n\t\tconst endpoint = `/${extractLastValueFromPathname(location)}`\n\t\tconst endpointStepIndex = findIndex(this.steps, step => {\n\t\t\treturn step.endpoint === endpoint\n\t\t})\n\t\tconst { stateStepIndex } = this.state\n\t\tconst activeStepIndex =\n\t\t\tendpointStepIndex >= 0 ? endpointStepIndex : stateStepIndex\n\t\tconst shouldStepsBeDisplayed = activeStepIndex !== 0\n\t\tconst shouldFormTitleBeDisplayed = !shouldStepsBeDisplayed\n\t\treturn (\n\t\t\t<div className={'signup-form-page--content'}>\n\t\t\t\t{shouldStepsBeDisplayed && (\n\t\t\t\t\t<Stepper steps={this.steps} activeStepIndex={activeStepIndex} />\n\t\t\t\t)}\n\t\t\t\t<div className={'login-form'}>\n\t\t\t\t\t{shouldFormTitleBeDisplayed && (\n\t\t\t\t\t\t<div className=\"form-title-container\">\n\t\t\t\t\t\t\t<h2 className={'title'}>Sign Up</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<UnauthorizedRoute\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={`${this.basePath}${this.steps[1].endpoint}`}\n\t\t\t\t\t\t\tcomponent={PersonalInfoSubForm}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<UnauthorizedRoute\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={`${this.basePath}${this.steps[2].endpoint}`}\n\t\t\t\t\t\t\tcomponent={BillingSubForm}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<UnauthorizedRoute\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={`${this.basePath}/email-confirmation`}\n\t\t\t\t\t\t\tcomponent={EmailConfirmation}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<UnauthorizedRoute\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={`${this.basePath}/email-entered`}\n\t\t\t\t\t\t\tcomponent={EmailEntered}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<UnauthorizedRoute\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={`${this.basePath}/billing`}\n\t\t\t\t\t\t\tcomponent={BillingSubForm}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<UnauthorizedRoute path={this.basePath} component={EmailSubForm} />\n\t\t\t\t\t\t<Redirect to={`${this.basePath}`} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst loadingSelector = createLoadingSelector(['LOGIN'])\nconst errorSelector = createErrorMessageSelector(['LOGIN'])\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tisLoading: loadingSelector(state),\n\t\terror: errorSelector(state)\n\t}\n}\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tlogin: (credentials, redirect) => dispatch(login(credentials, redirect))\n\t}\n}\n\nconst ConnectedLogin = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(LoginForm)\nexport default withRouter(ConnectedLogin)\n"]},"metadata":{},"sourceType":"module"}