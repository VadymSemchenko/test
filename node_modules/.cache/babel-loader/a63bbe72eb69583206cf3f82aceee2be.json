{"ast":null,"code":"import _toConsumableArray from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vadym/Documents/work/job/wedge/src/views/Security/components/PolicyTableItem/PolicyTableItem.js\";\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { INFO } from '../../../../assets/Icons';\nimport ServiceIcon from '../../../../assets/img/PNG/Acreto_Icon 16.png';\nimport ApplicationIcon from '../../../../assets/img/PNG/Acreto_Icon 17.png';\nimport AddButton from '../../../../components/AddButton/AddButton';\nimport Form from '../../../../components/Form/Form';\nimport Translator from '../../../../utils/enumTranslator';\nimport { getArrow, getIconForRegionName, getIconForStatus } from '../../../../variables/Icons';\nimport './policy-table-item.scss';\n\nfunction TableItemContainer(_ref) {\n  var children = _ref.children,\n      _ref$active = _ref.active,\n      active = _ref$active === void 0 ? false : _ref$active;\n  return React.createElement(\"div\", {\n    className: \"policy-table-item item \".concat(active ? 'active' : ''),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, children);\n}\n\nfunction Field(_ref2) {\n  var children = _ref2.children,\n      _ref2$extraClass = _ref2.extraClass,\n      extraClass = _ref2$extraClass === void 0 ? '' : _ref2$extraClass;\n  return React.createElement(\"div\", {\n    className: \"field \".concat(extraClass),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, children);\n}\n\nfunction ResponsiveField(_ref3) {\n  var children = _ref3.children,\n      title = _ref3.title,\n      _ref3$extraClass = _ref3.extraClass,\n      extraClass = _ref3$extraClass === void 0 ? '' : _ref3$extraClass;\n  return React.createElement(\"div\", {\n    className: \"field \".concat(extraClass),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: 'field__title',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, title), React.createElement(\"div\", {\n    className: 'field__content',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, children));\n}\n\nfunction BasicObjectInfo(_ref4) {\n  var data = _ref4.data,\n      onClick = _ref4.onClick;\n  var expiryType = Translator.expirationType(data.expiry.type);\n  return React.createElement(\"div\", {\n    className: 'policyinfo',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: 'policyinfo__button',\n    onClick: onClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, data.id, React.createElement(\"img\", {\n    src: INFO,\n    alt: 'info-icon',\n    className: 'small-icon',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  })), React.createElement(\"p\", {\n    className: 'policyinfo__title normal strong',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, data.name), React.createElement(\"div\", {\n    className: 'policyinfo__time-container',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: 'medium',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, moment(data.expiry.date).format('DD/MM/YYYY')), React.createElement(\"div\", {\n    className: 'divider',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"medium expiry \".concat(expiryType.label),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, expiryType.label)));\n}\n\nfunction SmallTextField(_ref5) {\n  var text = _ref5.text;\n  return React.createElement(\"p\", {\n    className: 'small',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, text);\n}\n\nfunction TextField(_ref6) {\n  var text = _ref6.text,\n      strong = _ref6.strong,\n      size = _ref6.size;\n  return React.createElement(\"p\", {\n    className: \"\".concat(size, \" \").concat(strong ? 'strong' : ''),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, text);\n}\n\nfunction NspInfo(_ref7) {\n  var data = _ref7.data,\n      _ref7$showAll = _ref7.showAll,\n      showAll = _ref7$showAll === void 0 ? false : _ref7$showAll,\n      onExpand = _ref7.onExpand;\n  var limitedData = showAll ? data : [data[0]];\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, limitedData.map(function (d, index) {\n    return React.createElement(\"div\", {\n      key: index,\n      className: 'single-nsp',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, index === 0 && React.createElement(\"p\", {\n      className: 'normal nsp-text',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Primary NSP\"), index === 1 && React.createElement(\"p\", {\n      className: 'normal nsp-text nsp-text-secondary',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Secondary NSP\"), React.createElement(\"div\", {\n      key: \"nsp-info-index-\".concat(index),\n      className: 'primary-container',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: getArrow(d.status === 'good'),\n      className: 'arrow-status',\n      alt: 'arrow-status',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: getIconForRegionName(d.name, d.status === 'good'),\n      alt: 'region-icon',\n      className: 'region-icon',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: 'divider big',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: 'flex-column',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: 'small strong nsp-name',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, d.name), React.createElement(\"div\", {\n      className: 'flex-row',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: 'small',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, d.ping, \" \", React.createElement(\"span\", {\n      className: 'unit',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"ms\")), React.createElement(\"div\", {\n      className: 'divider small',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: 'small',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"\".concat(d.loss, \"% \"), React.createElement(\"span\", {\n      className: 'unit',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Loss\"))))));\n  }), !showAll && React.createElement(\"p\", {\n    className: 'more',\n    onClick: onExpand,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, data.length > 1 && \"+\".concat(data.length - 1, \" more\")));\n}\n\nvar ServiceField =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ServiceField, _React$PureComponent);\n\n  function ServiceField() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ServiceField);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ServiceField)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      service: {}\n    };\n\n    _this.onServiceChange = function (newService) {\n      if (newService.value === -1) {\n        _this.props.onCreateNew();\n      } else {\n        _this.setState({\n          service: newService\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(ServiceField, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.options.length !== this.props.options.length) {\n        var lastOption = this.props.options[this.props.options.length - 1];\n        this.setState({\n          service: {\n            value: lastOption.id,\n            label: \"\".concat(lastOption.protocol, \"/\").concat(lastOption.port, \" (\").concat(lastOption.name, \")\")\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          services = _this$props.services,\n          options = _this$props.options;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, services.map(function (service, index) {\n        return React.createElement(\"div\", {\n          className: 'single-service',\n          key: \"services-index-\".concat(index, \"-\").concat(service.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: ServiceIcon,\n          alt: 'service-icon',\n          className: 'small-icon',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: 'medium strong',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, \"\".concat(service.tcp ? 'TCP' : 'UDP', \"/\").concat(service.port)), React.createElement(\"p\", {\n          className: 'small',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, \"(\".concat(service.protocol, \")\"))));\n      }), React.createElement(Form.Group, {\n        full: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: 'flex-row baseline',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(Form.Select, {\n        value: this.state.service,\n        onChange: this.onServiceChange,\n        placeholder: 'Service',\n        options: [].concat(_toConsumableArray(options.map(function (o) {\n          return {\n            value: o.id,\n            label: \"\".concat(o.protocol, \"/\").concat(o.port, \" (\").concat(o.name, \")\")\n          };\n        })), [{\n          value: -1,\n          label: 'Create new service'\n        }]),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }), React.createElement(AddButton, {\n        className: 'space-left',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return ServiceField;\n}(React.PureComponent);\n\nvar ConnectedServiceField = connect(function (state) {\n  return {\n    options: state.ecosystems.dictionaries.services\n  };\n}, null)(ServiceField);\n\nfunction ApplicationField(_ref8) {\n  var applications = _ref8.applications;\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }, applications.map(function (application) {\n    return React.createElement(\"div\", {\n      className: 'single-application',\n      key: \"application-index-\".concat(application.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: ApplicationIcon,\n      alt: 'application-icon',\n      className: 'small-icon',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: 'medium strong',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, application.name));\n  }));\n}\n\nfunction StatusInfo(_ref9) {\n  var data = _ref9.data;\n  return React.createElement(\"div\", {\n    className: 'statusinfo',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: 'centered-row status-text-container',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: getIconForStatus(data.status),\n    className: 'tiny-icon',\n    alt: 'status-icon',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: 'normal capitalize',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  }, data.status)), React.createElement(\"p\", {\n    className: 'text medium grayish space-above-8',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236\n    },\n    __self: this\n  }, \"Last change\"), React.createElement(\"p\", {\n    className: 'text medium',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }, moment(data.lastChange).fromNow()));\n}\n\nvar PolicyTableItem =\n/*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inherits(PolicyTableItem, _React$PureComponent2);\n\n  function PolicyTableItem() {\n    var _getPrototypeOf3;\n\n    var _this2;\n\n    _classCallCheck(this, PolicyTableItem);\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this2 = _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(PolicyTableItem)).call.apply(_getPrototypeOf3, [this].concat(args)));\n    _this2.state = {\n      showAll: false\n    };\n\n    _this2.onClick = function () {\n      _this2.setState({\n        showAll: !_this2.state.showAll\n      });\n    };\n\n    return _this2;\n  }\n\n  _createClass(PolicyTableItem, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          data = _this$props2.data,\n          _this$props2$responsi = _this$props2.responsive,\n          responsive = _this$props2$responsi === void 0 ? false : _this$props2$responsi,\n          onDetails = _this$props2.onDetails,\n          onNewService = _this$props2.onNewService,\n          _this$props2$index = _this$props2.index,\n          index = _this$props2$index === void 0 ? 0 : _this$props2$index;\n      var WrapperComponent = responsive ? ResponsiveField : Field;\n      return React.createElement(TableItemContainer, {\n        active: this.state.showAll,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: 'policy__counter',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, index)), React.createElement(WrapperComponent, {\n        title: 'Policy',\n        extraClass: 'field__info',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, React.createElement(BasicObjectInfo, {\n        data: data,\n        onClick: onDetails,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      })), React.createElement(WrapperComponent, {\n        title: 'Source',\n        extraClass: 'field__source',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(SmallTextField, {\n        text: data.source,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      })), React.createElement(WrapperComponent, {\n        title: 'Service',\n        extraClass: 'field__service',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(ConnectedServiceField, {\n        services: data.services,\n        onCreateNew: onNewService,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      })), React.createElement(WrapperComponent, {\n        title: 'Application',\n        extraClass: 'field__application',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, React.createElement(ApplicationField, {\n        applications: data.applications,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      })), React.createElement(WrapperComponent, {\n        title: 'Destination',\n        extraClass: 'field__destination',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, React.createElement(SmallTextField, {\n        text: data.destination,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      })), React.createElement(WrapperComponent, {\n        title: 'Actions',\n        extraClass: 'field__action',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, \"Not implemented\")));\n    }\n  }]);\n\n  return PolicyTableItem;\n}(React.PureComponent);\n\nexport { PolicyTableItem as default };\nNspInfo.propTypes = {\n  data: PropTypes.array.isRequired,\n  showAll: PropTypes.bool,\n  onExpand: PropTypes.func.isRequired\n};\nResponsiveField.propTypes = {\n  children: PropTypes.element.isRequired,\n  title: PropTypes.string.isRequired,\n  extraClass: PropTypes.string\n};\nField.propTypes = {\n  children: PropTypes.element.isRequired,\n  extraClass: PropTypes.string\n};\nSmallTextField.propTypes = {\n  text: PropTypes.string.isRequired\n};\nTextField.defaultProps = {\n  text: ''\n};\nTextField.propTypes = {\n  text: PropTypes.string.isRequired,\n  strong: PropTypes.bool,\n  size: PropTypes.oneOf(['small', 'medium', 'big'])\n};\nStatusInfo.propTypes = {\n  data: PropTypes.object.isRequired\n};\nBasicObjectInfo.propTypes = {\n  data: PropTypes.object.isRequired,\n  onClick: PropTypes.func.isRequired\n};\nTableItemContainer.propTypes = {\n  children: PropTypes.array.isRequired,\n  active: PropTypes.bool\n};\nServiceField.propTypes = {\n  services: PropTypes.array.isRequired,\n  onCreateNew: PropTypes.func.isRequired,\n  options: PropTypes.array.isRequired\n};\nApplicationField.propTypes = {\n  applications: PropTypes.array.isRequired\n};\nPolicyTableItem.propTypes = {\n  data: PropTypes.object.isRequired,\n  responsive: PropTypes.bool.isRequired,\n  onDetails: PropTypes.func.isRequired,\n  onEdit: PropTypes.func.isRequired,\n  index: PropTypes.number.isRequired,\n  onNewService: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["/Users/vadym/Documents/work/job/wedge/src/views/Security/components/PolicyTableItem/PolicyTableItem.js"],"names":["moment","PropTypes","React","connect","INFO","ServiceIcon","ApplicationIcon","AddButton","Form","Translator","getArrow","getIconForRegionName","getIconForStatus","TableItemContainer","children","active","Field","extraClass","ResponsiveField","title","BasicObjectInfo","data","onClick","expiryType","expirationType","expiry","type","id","name","date","format","label","SmallTextField","text","TextField","strong","size","NspInfo","showAll","onExpand","limitedData","map","d","index","status","ping","loss","length","ServiceField","state","service","onServiceChange","newService","value","props","onCreateNew","setState","prevProps","options","lastOption","protocol","port","services","tcp","o","PureComponent","ConnectedServiceField","ecosystems","dictionaries","ApplicationField","applications","application","StatusInfo","lastChange","fromNow","PolicyTableItem","responsive","onDetails","onNewService","WrapperComponent","source","destination","propTypes","array","isRequired","bool","func","element","string","defaultProps","oneOf","object","onEdit","number"],"mappings":"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","sourcesContent":["import moment from 'moment'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { INFO } from '../../../../assets/Icons'\nimport ServiceIcon from '../../../../assets/img/PNG/Acreto_Icon 16.png'\nimport ApplicationIcon from '../../../../assets/img/PNG/Acreto_Icon 17.png'\nimport AddButton from '../../../../components/AddButton/AddButton'\nimport Form from '../../../../components/Form/Form'\nimport Translator from '../../../../utils/enumTranslator'\n\nimport {\n\tgetArrow,\n\tgetIconForRegionName,\n\tgetIconForStatus\n} from '../../../../variables/Icons'\n\nimport './policy-table-item.scss'\n\nfunction TableItemContainer({ children, active = false }) {\n\treturn (\n\t\t<div className={`policy-table-item item ${active ? 'active' : ''}`}>\n\t\t\t{children}\n\t\t</div>\n\t)\n}\n\nfunction Field({ children, extraClass = '' }) {\n\treturn <div className={`field ${extraClass}`}>{children}</div>\n}\n\nfunction ResponsiveField({ children, title, extraClass = '' }) {\n\treturn (\n\t\t<div className={`field ${extraClass}`}>\n\t\t\t<p className={'field__title'}>{title}</p>\n\t\t\t<div className={'field__content'}>{children}</div>\n\t\t</div>\n\t)\n}\n\nfunction BasicObjectInfo({ data, onClick }) {\n\tconst expiryType = Translator.expirationType(data.expiry.type)\n\treturn (\n\t\t<div className={'policyinfo'}>\n\t\t\t<div className={'policyinfo__button'} onClick={onClick}>\n\t\t\t\t{data.id}\n\t\t\t\t<img src={INFO} alt={'info-icon'} className={'small-icon'} />\n\t\t\t</div>\n\t\t\t<p className={'policyinfo__title normal strong'}>{data.name}</p>\n\t\t\t<div className={'policyinfo__time-container'}>\n\t\t\t\t{/*<img src={ TYPE_IOT } alt={ 'type-icon' } className={ 'small-icon' }/>*/}\n\t\t\t\t<p className={'medium'}>\n\t\t\t\t\t{moment(data.expiry.date).format('DD/MM/YYYY')}\n\t\t\t\t</p>\n\t\t\t\t<div className={'divider'} />\n\t\t\t\t<p className={`medium expiry ${expiryType.label}`}>\n\t\t\t\t\t{expiryType.label}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction SmallTextField({ text }) {\n\treturn <p className={'small'}>{text}</p>\n}\n\nfunction TextField({ text, strong, size }) {\n\treturn <p className={`${size} ${strong ? 'strong' : ''}`}>{text}</p>\n}\n\nfunction NspInfo({ data, showAll = false, onExpand }) {\n\tconst limitedData = showAll ? data : [data[0]]\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{limitedData.map((d, index) => (\n\t\t\t\t<div key={index} className={'single-nsp'}>\n\t\t\t\t\t{index === 0 && <p className={'normal nsp-text'}>Primary NSP</p>}\n\t\t\t\t\t{index === 1 && (\n\t\t\t\t\t\t<p className={'normal nsp-text nsp-text-secondary'}>\n\t\t\t\t\t\t\tSecondary NSP\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\t\t\t\t\t<div key={`nsp-info-index-${index}`} className={'primary-container'}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={getArrow(d.status === 'good')}\n\t\t\t\t\t\t\tclassName={'arrow-status'}\n\t\t\t\t\t\t\talt={'arrow-status'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={getIconForRegionName(d.name, d.status === 'good')}\n\t\t\t\t\t\t\talt={'region-icon'}\n\t\t\t\t\t\t\tclassName={'region-icon'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className={'divider big'} />\n\t\t\t\t\t\t<div className={'flex-column'}>\n\t\t\t\t\t\t\t<p className={'small strong nsp-name'}>{d.name}</p>\n\t\t\t\t\t\t\t<div className={'flex-row'}>\n\t\t\t\t\t\t\t\t<p className={'small'}>\n\t\t\t\t\t\t\t\t\t{d.ping} <span className={'unit'}>ms</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<div className={'divider small'} />\n\t\t\t\t\t\t\t\t<p className={'small'}>\n\t\t\t\t\t\t\t\t\t{`${d.loss}% `}\n\t\t\t\t\t\t\t\t\t<span className={'unit'}>Loss</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t\t{!showAll && (\n\t\t\t\t<p className={'more'} onClick={onExpand}>\n\t\t\t\t\t{data.length > 1 && `+${data.length - 1} more`}\n\t\t\t\t</p>\n\t\t\t)}\n\t\t</React.Fragment>\n\t)\n}\n\nclass ServiceField extends React.PureComponent {\n\tstate = {\n\t\tservice: {}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps.options.length !== this.props.options.length) {\n\t\t\tconst lastOption = this.props.options[this.props.options.length - 1]\n\t\t\tthis.setState({\n\t\t\t\tservice: {\n\t\t\t\t\tvalue: lastOption.id,\n\t\t\t\t\tlabel: `${lastOption.protocol}/${lastOption.port} (${\n\t\t\t\t\t\tlastOption.name\n\t\t\t\t\t})`\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tonServiceChange = newService => {\n\t\tif (newService.value === -1) {\n\t\t\tthis.props.onCreateNew()\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tservice: newService\n\t\t\t})\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { services, options } = this.props\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{services.map((service, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={'single-service'}\n\t\t\t\t\t\t\tkey={`services-index-${index}-${service.id}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={ServiceIcon}\n\t\t\t\t\t\t\t\talt={'service-icon'}\n\t\t\t\t\t\t\t\tclassName={'small-icon'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p className={'medium strong'}>{`${\n\t\t\t\t\t\t\t\t\tservice.tcp ? 'TCP' : 'UDP'\n\t\t\t\t\t\t\t\t}/${service.port}`}</p>\n\t\t\t\t\t\t\t\t<p className={'small'}>{`(${service.protocol})`}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t\t<Form.Group full>\n\t\t\t\t\t<div className={'flex-row baseline'}>\n\t\t\t\t\t\t<Form.Select\n\t\t\t\t\t\t\tvalue={this.state.service}\n\t\t\t\t\t\t\tonChange={this.onServiceChange}\n\t\t\t\t\t\t\tplaceholder={'Service'}\n\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t...options.map(o => ({\n\t\t\t\t\t\t\t\t\tvalue: o.id,\n\t\t\t\t\t\t\t\t\tlabel: `${o.protocol}/${o.port} (${o.name})`\n\t\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\t\t{ value: -1, label: 'Create new service' }\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<AddButton className={'space-left'} />\n\t\t\t\t\t</div>\n\t\t\t\t</Form.Group>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nconst ConnectedServiceField = connect(\n\tstate => ({\n\t\toptions: state.ecosystems.dictionaries.services\n\t}),\n\tnull\n)(ServiceField)\n\nfunction ApplicationField({ applications }) {\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{applications.map(application => {\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={'single-application'}\n\t\t\t\t\t\tkey={`application-index-${application.id}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ApplicationIcon}\n\t\t\t\t\t\t\talt={'application-icon'}\n\t\t\t\t\t\t\tclassName={'small-icon'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<p className={'medium strong'}>{application.name}</p>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t})}\n\t\t</React.Fragment>\n\t)\n}\n\nfunction StatusInfo({ data }) {\n\treturn (\n\t\t<div className={'statusinfo'}>\n\t\t\t<div className={'centered-row status-text-container'}>\n\t\t\t\t<img\n\t\t\t\t\tsrc={getIconForStatus(data.status)}\n\t\t\t\t\tclassName={'tiny-icon'}\n\t\t\t\t\talt={'status-icon'}\n\t\t\t\t/>\n\t\t\t\t<p className={'normal capitalize'}>{data.status}</p>\n\t\t\t</div>\n\t\t\t<p className={'text medium grayish space-above-8'}>Last change</p>\n\t\t\t<p className={'text medium'}>{moment(data.lastChange).fromNow()}</p>\n\t\t</div>\n\t)\n}\n\nexport default class PolicyTableItem extends React.PureComponent {\n\tstate = {\n\t\tshowAll: false\n\t}\n\n\tonClick = () => {\n\t\tthis.setState({\n\t\t\tshowAll: !this.state.showAll\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tdata,\n\t\t\tresponsive = false,\n\t\t\tonDetails,\n\t\t\tonNewService,\n\t\t\tindex = 0\n\t\t} = this.props\n\t\tconst WrapperComponent = responsive ? ResponsiveField : Field\n\t\treturn (\n\t\t\t<TableItemContainer active={this.state.showAll}>\n\t\t\t\t<div className={'policy__counter'}>\n\t\t\t\t\t<span>{index}</span>\n\t\t\t\t</div>\n\t\t\t\t<WrapperComponent title={'Policy'} extraClass={'field__info'}>\n\t\t\t\t\t<BasicObjectInfo data={data} onClick={onDetails} />\n\t\t\t\t</WrapperComponent>\n\t\t\t\t<WrapperComponent title={'Source'} extraClass={'field__source'}>\n\t\t\t\t\t<SmallTextField text={data.source} />\n\t\t\t\t</WrapperComponent>\n\t\t\t\t<WrapperComponent title={'Service'} extraClass={'field__service'}>\n\t\t\t\t\t<ConnectedServiceField\n\t\t\t\t\t\tservices={data.services}\n\t\t\t\t\t\tonCreateNew={onNewService}\n\t\t\t\t\t/>\n\t\t\t\t</WrapperComponent>\n\t\t\t\t<WrapperComponent\n\t\t\t\t\ttitle={'Application'}\n\t\t\t\t\textraClass={'field__application'}\n\t\t\t\t>\n\t\t\t\t\t<ApplicationField applications={data.applications} />\n\t\t\t\t</WrapperComponent>\n\t\t\t\t<WrapperComponent\n\t\t\t\t\ttitle={'Destination'}\n\t\t\t\t\textraClass={'field__destination'}\n\t\t\t\t>\n\t\t\t\t\t<SmallTextField text={data.destination} />\n\t\t\t\t</WrapperComponent>\n\t\t\t\t<WrapperComponent title={'Actions'} extraClass={'field__action'}>\n\t\t\t\t\t<p>Not implemented</p>\n\t\t\t\t</WrapperComponent>\n\t\t\t</TableItemContainer>\n\t\t)\n\t}\n}\n\nNspInfo.propTypes = {\n\tdata: PropTypes.array.isRequired,\n\tshowAll: PropTypes.bool,\n\tonExpand: PropTypes.func.isRequired\n}\n\nResponsiveField.propTypes = {\n\tchildren: PropTypes.element.isRequired,\n\ttitle: PropTypes.string.isRequired,\n\textraClass: PropTypes.string\n}\n\nField.propTypes = {\n\tchildren: PropTypes.element.isRequired,\n\textraClass: PropTypes.string\n}\n\nSmallTextField.propTypes = {\n\ttext: PropTypes.string.isRequired\n}\n\nTextField.defaultProps = {\n\ttext: ''\n}\n\nTextField.propTypes = {\n\ttext: PropTypes.string.isRequired,\n\tstrong: PropTypes.bool,\n\tsize: PropTypes.oneOf(['small', 'medium', 'big'])\n}\n\nStatusInfo.propTypes = {\n\tdata: PropTypes.object.isRequired\n}\n\nBasicObjectInfo.propTypes = {\n\tdata: PropTypes.object.isRequired,\n\tonClick: PropTypes.func.isRequired\n}\n\nTableItemContainer.propTypes = {\n\tchildren: PropTypes.array.isRequired,\n\tactive: PropTypes.bool\n}\n\nServiceField.propTypes = {\n\tservices: PropTypes.array.isRequired,\n\tonCreateNew: PropTypes.func.isRequired,\n\toptions: PropTypes.array.isRequired\n}\n\nApplicationField.propTypes = {\n\tapplications: PropTypes.array.isRequired\n}\n\nPolicyTableItem.propTypes = {\n\tdata: PropTypes.object.isRequired,\n\tresponsive: PropTypes.bool.isRequired,\n\tonDetails: PropTypes.func.isRequired,\n\tonEdit: PropTypes.func.isRequired,\n\tindex: PropTypes.number.isRequired,\n\tonNewService: PropTypes.func.isRequired\n}\n"]},"metadata":{},"sourceType":"module"}