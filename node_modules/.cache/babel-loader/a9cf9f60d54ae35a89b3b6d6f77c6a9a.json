{"ast":null,"code":"import _toConsumableArray from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vadym/Documents/work/job/wedge/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vadym/Documents/work/job/wedge/src/views/Modals/NewPolicySurvey.jsx\";\nimport 'leaflet/dist/leaflet.css';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport AddButton from '../../components/AddButton/AddButton';\nimport AdvancedContainer from '../../components/AdvancedContainer/AdvancedContainer';\nimport Card from '../../components/Card/Card';\nimport Form from '../../components/Form/Form';\nimport { ACTION_TYPES, ACTION_TYPES_OPTIONS, EXPIRATION_TYPE, EXPIRATION_TYPE_OPTIONS, MOCK_OPTIONS } from '../../enums';\nimport { Footer } from './commons';\nimport './modals.scss';\n\nvar NewPolicySurvey =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(NewPolicySurvey, _React$Component);\n\n  function NewPolicySurvey(props) {\n    var _this;\n\n    _classCallCheck(this, NewPolicySurvey);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewPolicySurvey).call(this, props));\n\n    _this.changeField = function (field, value) {\n      _this.setState(_defineProperty({}, field, value));\n    };\n\n    _this.onNameChange = function (val) {\n      return _this.changeField('name', val);\n    };\n\n    _this.onNotesChange = function (val) {\n      return _this.changeField('notes', val);\n    };\n\n    _this.onExpiryChange = function (val) {\n      return _this.changeField('expiry', val);\n    };\n\n    _this.onDescriptionChange = function (val) {\n      return _this.changeField('description', val);\n    };\n\n    _this.onExpiryTypeChange = function (val) {\n      return _this.changeField('expiryType', val);\n    };\n\n    _this.onActionTypeChange = function (val) {\n      return _this.changeField('actionType', val);\n    };\n\n    _this.onThreatManagementChange = function (val) {\n      return _this.changeField('threatManagement', val);\n    };\n\n    _this.onFinish = function () {\n      if (_this.validate()) {\n        _this.props.onFinish(_this.state);\n      }\n    };\n\n    _this.onPotentialItemChange = function (value, field) {\n      _this.changeField(\"potential\".concat(field.capitalize()), value);\n    };\n\n    _this.onNewItemManual = function (field) {\n      var _this$setState2;\n\n      _this.setState((_this$setState2 = {}, _defineProperty(_this$setState2, field, [].concat(_toConsumableArray(_this.state[field]), [_this.state[\"potential\".concat(field.capitalize())]])), _defineProperty(_this$setState2, \"potential\".concat(field.capitalize()), ''), _this$setState2));\n    };\n\n    _this.onRemoveItem = function (index, field) {\n      _this.setState(_defineProperty({}, field, _this.state[field].filter(function (s, i) {\n        return i !== index;\n      })));\n    };\n\n    _this.onNewService = function () {\n      _this.setState({\n        services: [].concat(_toConsumableArray(_this.state.services), [_this.props.options.find(function (o) {\n          return o.id === _this.state.potentialServices.value;\n        })]),\n        potentialServices: ''\n      });\n    };\n\n    _this.state = {\n      expiryType: EXPIRATION_TYPE.HARD,\n      services: [],\n      sources: [],\n      destinations: [],\n      applications: [],\n      threatManagement: 2,\n      actionType: ACTION_TYPES.ALLOW\n    };\n    return _this;\n  }\n\n  _createClass(NewPolicySurvey, [{\n    key: \"validate\",\n    value: function validate() {\n      return true;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: 'modal__content padded new-policy-survey',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Card, {\n        header: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: 'form-row',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        required: true,\n        label: 'Name',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Form.Text, {\n        value: this.state.name,\n        onChange: this.onNameChange,\n        placeholder: 'Enter policy name',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        full: true,\n        label: 'Description',\n        extraClass: 'description-container',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(Form.Text, {\n        value: this.state.description,\n        onChange: this.onDescriptionChange,\n        placeholder: 'Device description',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: 'form-row',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        required: true,\n        label: 'Sources',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, this.state.sources.map(function (a, index) {\n        return React.createElement(\"div\", {\n          key: \"sources-index-\".concat(index),\n          className: 'policy--application_single',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: 'medium strong',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, a), React.createElement(\"i\", {\n          className: 'pe-7s-close red-delete-icon',\n          onClick: function onClick() {\n            return _this2.onRemoveItem(index, 'sources');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }));\n      }), React.createElement(\"div\", {\n        className: 'flex-row baseline',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(Form.Text, {\n        value: this.state.potentialSources,\n        onChange: function onChange(val) {\n          return _this2.onPotentialItemChange(val, 'sources');\n        },\n        placeholder: 'Add new source',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(AddButton, {\n        onClick: function onClick() {\n          return _this2.onNewItemManual('sources');\n        },\n        className: 'space-left',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }))), React.createElement(Form.Group, {\n        required: true,\n        extraClass: 'services-container',\n        label: 'Services',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, this.state.services.map(function (s, index) {\n        return React.createElement(\"div\", {\n          key: \"services-index-\".concat(index, \"-\").concat(s.id),\n          className: 'policy--services_single',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: 'medium strong',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, \"\".concat(s.name, \" - \").concat(s.protocol ? 'TCP' : 'UDP', \"/\").concat(s.port, \" \")), React.createElement(\"i\", {\n          className: 'pe-7s-close red-delete-icon',\n          onClick: function onClick() {\n            return _this2.onRemoveItem(index, 'services');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }));\n      }), React.createElement(\"div\", {\n        className: 'flex-row baseline',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(Form.Select, {\n        value: this.state.potentialServices,\n        onChange: function onChange(val) {\n          return _this2.onPotentialItemChange(val, 'services');\n        },\n        placeholder: 'Service',\n        options: _toConsumableArray(this.props.options.map(function (o) {\n          return {\n            value: o.id,\n            label: \"\".concat(o.protocol, \"/\").concat(o.port, \" (\").concat(o.name, \")\")\n          };\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), React.createElement(AddButton, {\n        onClick: this.onNewService,\n        className: 'space-left',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }))), React.createElement(Form.Group, {\n        required: true,\n        extraClass: 'applications-container',\n        label: 'Applications',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, this.state.applications.map(function (a, index) {\n        return React.createElement(\"div\", {\n          key: \"applications-index-\".concat(index),\n          className: 'policy--application_single',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: 'medium strong',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, a), React.createElement(\"i\", {\n          className: 'pe-7s-close red-delete-icon',\n          onClick: function onClick() {\n            return _this2.onRemoveItem(index, 'applications');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }));\n      }), React.createElement(\"div\", {\n        className: 'flex-row baseline',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(Form.Text, {\n        value: this.state.potentialApplications,\n        onChange: function onChange(val) {\n          return _this2.onPotentialItemChange(val, 'applications');\n        },\n        placeholder: 'Application',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }), React.createElement(AddButton, {\n        onClick: function onClick() {\n          return _this2.onNewItemManual('applications');\n        },\n        className: 'space-left',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }))), React.createElement(Form.Group, {\n        required: true,\n        extraClass: 'destinations-container',\n        label: 'Destination',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, this.state.destinations.map(function (a, index) {\n        return React.createElement(\"div\", {\n          key: \"destinations-index-\".concat(index),\n          className: 'policy--destination_single',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: 'medium strong',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }, a), React.createElement(\"i\", {\n          className: 'pe-7s-close red-delete-icon',\n          onClick: function onClick() {\n            return _this2.onRemoveItem(index, 'destinations');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }));\n      }), React.createElement(\"div\", {\n        className: 'flex-row baseline',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(Form.Text, {\n        value: this.state.potentialDestinations,\n        onChange: function onChange(val) {\n          return _this2.onPotentialItemChange(val, 'destinations');\n        },\n        placeholder: 'Add new destination',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }), React.createElement(AddButton, {\n        onClick: function onClick() {\n          return _this2.onNewItemManual('destinations');\n        },\n        className: 'space-left',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: 'form-row',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        required: true,\n        center: true,\n        label: 'Action',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(Form.Toggle, {\n        selected: this.state.actionType,\n        selectedClass: 'toggle-selected',\n        onChange: this.onActionTypeChange,\n        options: ACTION_TYPES_OPTIONS,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: 'checkbox-label wedge-checkbox-container',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: this.state.threatManagement,\n        onChange: function onChange(ev) {\n          return _this2.onThreatManagementChange(ev.target.checked);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: 'checkmark',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: 'title',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \"Threat management\")))), React.createElement(\"div\", {\n        className: 'advance component-coming-soon',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, React.createElement(AdvancedContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: 'form-row',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        extraClass: 'notes-container',\n        full: true,\n        label: 'Notes',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(Form.Text, {\n        value: this.state.notes,\n        onChange: this.onNotesChange,\n        placeholder: 'Notes',\n        multiline: true,\n        rows: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        extraClass: 'expiry-container',\n        label: 'Expiry',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, React.createElement(Form.Text, {\n        value: this.state.expiry,\n        onChange: this.onExpiryChange,\n        placeholder: 'Expiry',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }), React.createElement(Form.Toggle, {\n        selected: this.state.expiryType,\n        selectedClass: 'toggle-selected',\n        onChange: this.onExpiryTypeChange,\n        options: EXPIRATION_TYPE_OPTIONS,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: 'actions-container',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        label: 'URL Filter',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, React.createElement(Form.Select, {\n        value: this.state.urlFilter,\n        onChange: this.onAssetChange,\n        placeholder: 'Abused drug',\n        options: MOCK_OPTIONS,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        label: 'File Type',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, React.createElement(Form.Select, {\n        value: this.state.fileType,\n        onChange: this.onAssetChange,\n        placeholder: 'XML',\n        options: MOCK_OPTIONS,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        label: 'Pattern Filter',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, React.createElement(Form.Select, {\n        value: this.state.patternFilter,\n        onChange: this.onAssetChange,\n        placeholder: 'Data filter',\n        options: MOCK_OPTIONS,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      })))))))), React.createElement(\"div\", {\n        className: 'wedge-modal__footer',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, React.createElement(Footer, {\n        onClick: this.onFinish,\n        edit: this.props.edit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return NewPolicySurvey;\n}(React.Component);\n\nNewPolicySurvey.propTypes = {\n  onFinish: PropTypes.func.isRequired,\n  edit: PropTypes.bool,\n  item: PropTypes.object,\n  options: PropTypes.array.isRequired\n};\nvar ConnectedServiceField = connect(function (state) {\n  return {\n    options: state.ecosystems.dictionaries.services\n  };\n}, null)(NewPolicySurvey);\nNewPolicySurvey.Footer = Footer;\nexport default ConnectedServiceField;","map":{"version":3,"sources":["/Users/vadym/Documents/work/job/wedge/src/views/Modals/NewPolicySurvey.jsx"],"names":["PropTypes","React","connect","AddButton","AdvancedContainer","Card","Form","ACTION_TYPES","ACTION_TYPES_OPTIONS","EXPIRATION_TYPE","EXPIRATION_TYPE_OPTIONS","MOCK_OPTIONS","Footer","NewPolicySurvey","props","changeField","field","value","setState","onNameChange","val","onNotesChange","onExpiryChange","onDescriptionChange","onExpiryTypeChange","onActionTypeChange","onThreatManagementChange","onFinish","validate","state","onPotentialItemChange","capitalize","onNewItemManual","onRemoveItem","index","filter","s","i","onNewService","services","options","find","o","id","potentialServices","expiryType","HARD","sources","destinations","applications","threatManagement","actionType","ALLOW","name","description","map","a","potentialSources","protocol","port","label","potentialApplications","potentialDestinations","ev","target","checked","notes","expiry","urlFilter","onAssetChange","fileType","patternFilter","edit","Component","propTypes","func","isRequired","bool","item","object","array","ConnectedServiceField","ecosystems","dictionaries"],"mappings":"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","sourcesContent":["import 'leaflet/dist/leaflet.css'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport AddButton from '../../components/AddButton/AddButton'\nimport AdvancedContainer from '../../components/AdvancedContainer/AdvancedContainer'\nimport Card from '../../components/Card/Card'\nimport Form from '../../components/Form/Form'\nimport {\n\tACTION_TYPES,\n\tACTION_TYPES_OPTIONS,\n\tEXPIRATION_TYPE,\n\tEXPIRATION_TYPE_OPTIONS,\n\tMOCK_OPTIONS\n} from '../../enums'\nimport { Footer } from './commons'\nimport './modals.scss'\n\nclass NewPolicySurvey extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\texpiryType: EXPIRATION_TYPE.HARD,\n\t\t\tservices: [],\n\t\t\tsources: [],\n\t\t\tdestinations: [],\n\t\t\tapplications: [],\n\t\t\tthreatManagement: 2,\n\t\t\tactionType: ACTION_TYPES.ALLOW\n\t\t}\n\t}\n\n\tchangeField = (field, value) => {\n\t\tthis.setState({\n\t\t\t[field]: value\n\t\t})\n\t}\n\n\tonNameChange = val => this.changeField('name', val)\n\tonNotesChange = val => this.changeField('notes', val)\n\tonExpiryChange = val => this.changeField('expiry', val)\n\tonDescriptionChange = val => this.changeField('description', val)\n\tonExpiryTypeChange = val => this.changeField('expiryType', val)\n\tonActionTypeChange = val => this.changeField('actionType', val)\n\tonThreatManagementChange = val => this.changeField('threatManagement', val)\n\n\tonFinish = () => {\n\t\tif (this.validate()) {\n\t\t\tthis.props.onFinish(this.state)\n\t\t}\n\t}\n\n\tonPotentialItemChange = (value, field) => {\n\t\tthis.changeField(`potential${field.capitalize()}`, value)\n\t}\n\n\tonNewItemManual = field => {\n\t\tthis.setState({\n\t\t\t[field]: [\n\t\t\t\t...this.state[field],\n\t\t\t\tthis.state[`potential${field.capitalize()}`]\n\t\t\t],\n\t\t\t[`potential${field.capitalize()}`]: ''\n\t\t})\n\t}\n\n\tonRemoveItem = (index, field) => {\n\t\tthis.setState({\n\t\t\t[field]: this.state[field].filter((s, i) => i !== index)\n\t\t})\n\t}\n\n\tonNewService = () => {\n\t\tthis.setState({\n\t\t\tservices: [\n\t\t\t\t...this.state.services,\n\t\t\t\tthis.props.options.find(\n\t\t\t\t\to => o.id === this.state.potentialServices.value\n\t\t\t\t)\n\t\t\t],\n\t\t\tpotentialServices: ''\n\t\t})\n\t}\n\n\tvalidate() {\n\t\treturn true\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className={'modal__content padded new-policy-survey'}>\n\t\t\t\t\t<Card header={false}>\n\t\t\t\t\t\t<div className={'form-row'}>\n\t\t\t\t\t\t\t<Form.Group required={true} label={'Name'}>\n\t\t\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t\t\t\t\tonChange={this.onNameChange}\n\t\t\t\t\t\t\t\t\tplaceholder={'Enter policy name'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\tfull={true}\n\t\t\t\t\t\t\t\tlabel={'Description'}\n\t\t\t\t\t\t\t\textraClass={'description-container'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\t\t\tvalue={this.state.description}\n\t\t\t\t\t\t\t\t\tonChange={this.onDescriptionChange}\n\t\t\t\t\t\t\t\t\tplaceholder={'Device description'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'form-row'}>\n\t\t\t\t\t\t\t<Form.Group required={true} label={'Sources'}>\n\t\t\t\t\t\t\t\t{this.state.sources.map((a, index) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={`sources-index-${index}`}\n\t\t\t\t\t\t\t\t\t\tclassName={'policy--application_single'}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<p className={'medium strong'}>{a}</p>\n\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\tclassName={'pe-7s-close red-delete-icon'}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveItem(index, 'sources')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<div className={'flex-row baseline'}>\n\t\t\t\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.potentialSources}\n\t\t\t\t\t\t\t\t\t\tonChange={val => this.onPotentialItemChange(val, 'sources')}\n\t\t\t\t\t\t\t\t\t\tplaceholder={'Add new source'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.onNewItemManual('sources')}\n\t\t\t\t\t\t\t\t\t\tclassName={'space-left'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\textraClass={'services-container'}\n\t\t\t\t\t\t\t\tlabel={'Services'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{this.state.services.map((s, index) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={`services-index-${index}-${s.id}`}\n\t\t\t\t\t\t\t\t\t\tclassName={'policy--services_single'}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<p className={'medium strong'}>{`${s.name} - ${\n\t\t\t\t\t\t\t\t\t\t\ts.protocol ? 'TCP' : 'UDP'\n\t\t\t\t\t\t\t\t\t\t}/${s.port} `}</p>\n\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\tclassName={'pe-7s-close red-delete-icon'}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveItem(index, 'services')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<div className={'flex-row baseline'}>\n\t\t\t\t\t\t\t\t\t<Form.Select\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.potentialServices}\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\t\t\tthis.onPotentialItemChange(val, 'services')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tplaceholder={'Service'}\n\t\t\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t\t\t...this.props.options.map(o => ({\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: o.id,\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: `${o.protocol}/${o.port} (${o.name})`\n\t\t\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\t\t\tonClick={this.onNewService}\n\t\t\t\t\t\t\t\t\t\tclassName={'space-left'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\textraClass={'applications-container'}\n\t\t\t\t\t\t\t\tlabel={'Applications'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{this.state.applications.map((a, index) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={`applications-index-${index}`}\n\t\t\t\t\t\t\t\t\t\tclassName={'policy--application_single'}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<p className={'medium strong'}>{a}</p>\n\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\tclassName={'pe-7s-close red-delete-icon'}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveItem(index, 'applications')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<div className={'flex-row baseline'}>\n\t\t\t\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.potentialApplications}\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\t\t\tthis.onPotentialItemChange(val, 'applications')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tplaceholder={'Application'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.onNewItemManual('applications')}\n\t\t\t\t\t\t\t\t\t\tclassName={'space-left'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\textraClass={'destinations-container'}\n\t\t\t\t\t\t\t\tlabel={'Destination'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{this.state.destinations.map((a, index) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={`destinations-index-${index}`}\n\t\t\t\t\t\t\t\t\t\tclassName={'policy--destination_single'}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<p className={'medium strong'}>{a}</p>\n\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\tclassName={'pe-7s-close red-delete-icon'}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveItem(index, 'destinations')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<div className={'flex-row baseline'}>\n\t\t\t\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.potentialDestinations}\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\t\t\tthis.onPotentialItemChange(val, 'destinations')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tplaceholder={'Add new destination'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.onNewItemManual('destinations')}\n\t\t\t\t\t\t\t\t\t\tclassName={'space-left'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'form-row'}>\n\t\t\t\t\t\t\t<Form.Group required center={true} label={'Action'}>\n\t\t\t\t\t\t\t\t<Form.Toggle\n\t\t\t\t\t\t\t\t\tselected={this.state.actionType}\n\t\t\t\t\t\t\t\t\tselectedClass={'toggle-selected'}\n\t\t\t\t\t\t\t\t\tonChange={this.onActionTypeChange}\n\t\t\t\t\t\t\t\t\toptions={ACTION_TYPES_OPTIONS}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className={'checkbox-label wedge-checkbox-container'}>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.threatManagement}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\tthis.onThreatManagementChange(ev.target.checked)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span className={'checkmark'} />\n\t\t\t\t\t\t\t\t\t<span className={'title'}>Threat management</span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'advance component-coming-soon'}>\n\t\t\t\t\t\t\t<AdvancedContainer>\n\t\t\t\t\t\t\t\t<div className={'form-row'}>\n\t\t\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\t\t\textraClass={'notes-container'}\n\t\t\t\t\t\t\t\t\t\tfull\n\t\t\t\t\t\t\t\t\t\tlabel={'Notes'}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.notes}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onNotesChange}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={'Notes'}\n\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\trows={8}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Group extraClass={'expiry-container'} label={'Expiry'}>\n\t\t\t\t\t\t\t\t\t\t<Form.Text\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.expiry}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onExpiryChange}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={'Expiry'}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Form.Toggle\n\t\t\t\t\t\t\t\t\t\t\tselected={this.state.expiryType}\n\t\t\t\t\t\t\t\t\t\t\tselectedClass={'toggle-selected'}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onExpiryTypeChange}\n\t\t\t\t\t\t\t\t\t\t\toptions={EXPIRATION_TYPE_OPTIONS}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t<div className={'actions-container'}>\n\t\t\t\t\t\t\t\t\t\t<Form.Group label={'URL Filter'}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Select\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.urlFilter}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.onAssetChange}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={'Abused drug'}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={MOCK_OPTIONS}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t<Form.Group label={'File Type'}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Select\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.fileType}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.onAssetChange}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={'XML'}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={MOCK_OPTIONS}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t<Form.Group label={'Pattern Filter'}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Select\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.patternFilter}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.onAssetChange}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={'Data filter'}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={MOCK_OPTIONS}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</AdvancedContainer>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Card>\n\t\t\t\t</div>\n\t\t\t\t<div className={'wedge-modal__footer'}>\n\t\t\t\t\t<Footer onClick={this.onFinish} edit={this.props.edit} />\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nNewPolicySurvey.propTypes = {\n\tonFinish: PropTypes.func.isRequired,\n\tedit: PropTypes.bool,\n\titem: PropTypes.object,\n\toptions: PropTypes.array.isRequired\n}\n\nconst ConnectedServiceField = connect(\n\tstate => ({\n\t\toptions: state.ecosystems.dictionaries.services\n\t}),\n\tnull\n)(NewPolicySurvey)\n\nNewPolicySurvey.Footer = Footer\nexport default ConnectedServiceField\n"]},"metadata":{},"sourceType":"module"}